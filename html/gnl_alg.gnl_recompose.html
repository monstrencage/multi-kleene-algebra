<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>gnl_alg.gnl_recompose: recomposition of expressions and axiomatic correspondance</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library gnl_alg.gnl_recompose: recomposition of expressions and axiomatic correspondance</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="gnl_alg.prelim.html#"><span class="id" title="library">prelim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="gnl_alg.gnl.html#"><span class="id" title="library">gnl</span></a> <a class="idref" href="gnl_alg.theories.html#"><span class="id" title="library">theories</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#"><span class="id" title="library">gnl_decomp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="gnl_recomp" class="idref" href="#gnl_recomp"><span class="id" title="section">gnl_recomp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="gnl_recomp.A" class="idref" href="#gnl_recomp.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Set</span>} {<a id="gnl_recomp.decA" class="idref" href="#gnl_recomp.decA"><span class="id" title="variable">decA</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#A:1"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="gnl_recomp.O" class="idref" href="#gnl_recomp.O"><span class="id" title="variable">O</span></a> : <span class="id" title="keyword">Set</span>} {<a id="gnl_recomp.decO" class="idref" href="#gnl_recomp.decO"><span class="id" title="variable">decO</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#O:3"><span class="id" title="variable">O</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab32"></a><h1 class="section">Definitions</h1>

<div class="paragraph"> </div>

 The axiomatic order on projections is defined as follows: 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dec_inf" class="idref" href="#dec_inf"><span class="id" title="definition">dec_inf</span></a> <a id="r:5" class="idref" href="#r:5"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="e:6" class="idref" href="#e:6"><span class="id" title="binder">e</span></a> <a id="f:7" class="idref" href="#f:7"><span class="id" title="binder">f</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.theories.html#60bd5985152398482e4e3fc8bc055761"><span class="id" title="notation">≤</span></a><a class="idref" href="gnl_alg.theories.html#60bd5985152398482e4e3fc8bc055761"><span class="id" title="notation">slat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#f:7"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="keyword">∀</span> <a id="o:8" class="idref" href="#o:8"><span class="id" title="binder">o</span></a>, <a class="idref" href="gnl_alg.theories.html#fKA"><span class="id" title="inductive">fKA</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:5"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:8"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:8"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#f:7"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">operators</span></span> of an expressions are those <span class="inlinecode"><span class="id" title="var">o</span></span> that feature in subexpressions  either as <span class="inlinecode"><span class="id" title="var">_</span>×{<span class="id" title="var">o</span>}<span class="id" title="var">_</span></span> or as <span class="inlinecode"><span class="id" title="var">_</span>^{<span class="id" title="var">o</span>}</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="operators" class="idref" href="#operators"><span class="id" title="definition">operators</span></a> (<a id="e:9" class="idref" href="#e:9"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_recompose.html#e:9"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> | <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#operators:10"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:9"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#operators:10"><span class="id" title="definition">operators</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">o</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="gnl_alg.gnl_recompose.html#operators:10"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:9"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#operators:10"><span class="id" title="definition">operators</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">o</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a> ⇒ <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="gnl_alg.gnl_recompose.html#operators:10"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:9"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The following pair of functions allows for the projections to be converted back  to <span class="inlinecode"><span class="id" title="var">GExp</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="slat_to_gnl" class="idref" href="#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a id="s:12" class="idref" href="#s:12"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.theories.html#slat"><span class="id" title="definition">slat</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_recompose.html#s:12"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl:13"><span class="id" title="definition">slat_to_gnl</span></a> <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl:13"><span class="id" title="definition">slat_to_gnl</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="flatten" class="idref" href="#flatten"><span class="id" title="definition">flatten</span></a> {<a id="X:15" class="idref" href="#X:15"><span class="id" title="binder">X</span></a> <a id="Op:16" class="idref" href="#Op:16"><span class="id" title="binder">Op</span></a> : <span class="id" title="keyword">Set</span>} (<a id="o:17" class="idref" href="#o:17"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_recompose.html#Op:16"><span class="id" title="variable">Op</span></a>) (<a id="e:18" class="idref" href="#e:18"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:15"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:16"><span class="id" title="variable">Op</span></a>)) : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:15"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:16"><span class="id" title="variable">Op</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.theories.html#:::'1_r'"><span class="id" title="notation">1</span></a><a class="idref" href="gnl_alg.theories.html#:::'1_r'"><span class="id" title="notation">_r</span></a> | <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span>) ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.theories.html#fbf73d74852c6c7aca59d27fe115b489"><span class="id" title="notation">@@</span></a> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">((</span></a><span class="id" title="keyword">if</span> <a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <span class="id" title="var">f</span> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">)</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span><a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span><a class="idref" href="gnl_alg.theories.html#08eb96ff0845089548bf8ee31b997ae3"><span class="id" title="notation">^+</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#iter"><span class="id" title="constructor">iter</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_recompose.html#flatten:19"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:17"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:18"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
We may thus define the recomposition function that computes a new expression from  an expression's projections. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_recompose" class="idref" href="#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a id="e:21" class="idref" href="#e:21"><span class="id" title="binder">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:21"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fold_right</span> <a class="idref" href="gnl_alg.gnl.html#sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="o:22" class="idref" href="#o:22"><span class="id" title="binder">o</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:22"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:22"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:21"><span class="id" title="variable">e</span></a>)) (<a class="idref" href="gnl_alg.gnl_recompose.html#operators"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:21"><span class="id" title="variable">e</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab33"></a><h1 class="section">First lemmas</h1>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span> is non-destructive, since we can get back from it an expression  that is equivalent to the original argument. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="flatten_gnl_reg_trad" class="idref" href="#flatten_gnl_reg_trad"><span class="id" title="lemma">flatten_gnl_reg_trad</span></a> {<a id="X:23" class="idref" href="#X:23"><span class="id" title="binder">X</span></a> <a id="Op:24" class="idref" href="#Op:24"><span class="id" title="binder">Op</span></a> : <span class="id" title="keyword">Set</span>} {<a id="decOp:25" class="idref" href="#decOp:25"><span class="id" title="binder">decOp</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:24"><span class="id" title="variable">Op</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="o:26" class="idref" href="#o:26"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_recompose.html#Op:24"><span class="id" title="variable">Op</span></a>) (<a id="e:27" class="idref" href="#e:27"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:23"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:24"><span class="id" title="variable">Op</span></a>), <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:26"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:27"><span class="id" title="variable">e</span></a>).<br/>
</div>

<div class="doc">
Any operator not in <span class="inlinecode"><span class="id" title="var">operators</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> will have an empty projection. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_operator_zero" class="idref" href="#not_operator_zero"><span class="id" title="lemma">not_operator_zero</span></a> <a id="o:28" class="idref" href="#o:28"><span class="id" title="binder">o</span></a> <a id="e:29" class="idref" href="#e:29"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.gnl_recompose.html#o:28"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_recompose.html#operators"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:29"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:28"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:29"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a>.<br/>

<br/>
</div>

<div class="doc">
The ordering we defined on projections is sound w.r.t. the satisfaction relation  bewteen decompostions and projected expressions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="dec_inf_sound" class="idref" href="#dec_inf_sound"><span class="id" title="instance">dec_inf_sound</span></a> <a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_recompose.html#dec_inf"><span class="id" title="definition">dec_inf</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Program.Basics.html#impl"><span class="id" title="definition">Basics.impl</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#s:30"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab34"></a><h1 class="section">First theorem: the recomposion of an expression is equivalent to the original</h1>

<div class="paragraph"> </div>

 We first prove the <i>easy</i> direction, which hinges on the fact that each projection  is below the orgininal expression. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_slat_proj_inf" class="idref" href="#gnl_slat_proj_inf"><span class="id" title="lemma">gnl_slat_proj_inf</span></a> <a id="e:43" class="idref" href="#e:43"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:43"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:43"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_proj_inf" class="idref" href="#gnl_reg_proj_inf"><span class="id" title="lemma">gnl_reg_proj_inf</span></a> <a id="o:44" class="idref" href="#o:44"><span class="id" title="binder">o</span></a> (<a id="e:45" class="idref" href="#e:45"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>): <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:44"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:44"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:45"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:45"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_recompose_inf_aux" class="idref" href="#gnl_recompose_inf_aux"><span class="id" title="lemma">gnl_recompose_inf_aux</span></a> <a id="e:46" class="idref" href="#e:46"><span class="id" title="binder">e</span></a> <a id="L:47" class="idref" href="#L:47"><span class="id" title="binder">L</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:46"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fold_right</span> <a class="idref" href="gnl_alg.gnl.html#sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="o:48" class="idref" href="#o:48"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:48"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:48"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:46"><span class="id" title="variable">e</span></a>)) <a class="idref" href="gnl_alg.gnl_recompose.html#L:47"><span class="id" title="variable">L</span></a>) <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:46"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="gnl_recompose_inf" class="idref" href="#gnl_recompose_inf"><span class="id" title="lemma">gnl_recompose_inf</span></a> <a id="e:49" class="idref" href="#e:49"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:49"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:49"><span class="id" title="variable">e</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
For the converse inclusion, we need to generalise the list <span class="inlinecode"><span class="id" title="var">operators</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> to any  <i>larger</i> list. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_recompose_sup_aux" class="idref" href="#gnl_recompose_sup_aux"><span class="id" title="lemma">gnl_recompose_sup_aux</span></a> <a id="e:50" class="idref" href="#e:50"><span class="id" title="binder">e</span></a> <a id="L:51" class="idref" href="#L:51"><span class="id" title="binder">L</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">incl</span> (<a class="idref" href="gnl_alg.gnl_recompose.html#operators"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:50"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl_recompose.html#L:51"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:50"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fold_right</span> <a class="idref" href="gnl_alg.gnl.html#sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="o:52" class="idref" href="#o:52"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:52"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:52"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:50"><span class="id" title="variable">e</span></a>)) <a class="idref" href="gnl_alg.gnl_recompose.html#L:51"><span class="id" title="variable">L</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="gnl_recompose_sup" class="idref" href="#gnl_recompose_sup"><span class="id" title="lemma">gnl_recompose_sup</span></a> <a id="e:55" class="idref" href="#e:55"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:55"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:55"><span class="id" title="variable">e</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
We now prove the full theorem. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="gnl_recompose_id" class="idref" href="#gnl_recompose_id"><span class="id" title="lemma">gnl_recompose_id</span></a> <a id="e:56" class="idref" href="#e:56"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:56"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:56"><span class="id" title="variable">e</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a id="lab35"></a><h1 class="section">A result about the empty word property</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fKA_ewp_r" class="idref" href="#fKA_ewp_r"><span class="id" title="lemma">fKA_ewp_r</span></a> {<a id="X:57" class="idref" href="#X:57"><span class="id" title="binder">X</span></a> <a id="Op:58" class="idref" href="#Op:58"><span class="id" title="binder">Op</span></a>} (<a id="r:59" class="idref" href="#r:59"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:57"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:58"><span class="id" title="variable">Op</span></a>))  <a id="e1:60" class="idref" href="#e1:60"><span class="id" title="binder">e1</span></a> <a id="e2:61" class="idref" href="#e2:61"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.theories.html#fKA"><span class="id" title="inductive">fKA</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:59"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e1:60"><span class="id" title="variable">e1</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e2:61"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#implb"><span class="id" title="definition">implb</span></a> (<a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e1:60"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e2:61"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab36"></a><h1 class="section">Testing whether an expression is empty</h1>
 We can use the following boolean predicate to check whether an expression is equivalent to  <span class="inlinecode"><span class="id" title="var">ø</span></span>, i.e. it has an empty interpretation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="is_zero" class="idref" href="#is_zero"><span class="id" title="definition">is_zero</span></a> {<a id="X:62" class="idref" href="#X:62"><span class="id" title="binder">X</span></a> <a id="Op:63" class="idref" href="#Op:63"><span class="id" title="binder">Op</span></a>:<span class="id" title="keyword">Set</span>} (<a id="e:64" class="idref" href="#e:64"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:62"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:63"><span class="id" title="variable">Op</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_recompose.html#e:64"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ (<a class="idref" href="gnl_alg.gnl_recompose.html#is_zero:65"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:64"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero:65"><span class="id" title="definition">is_zero</span></a> <span class="id" title="var">f</span>)%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">_</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span> ⇒ (<a class="idref" href="gnl_alg.gnl_recompose.html#is_zero:65"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:64"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero:65"><span class="id" title="definition">is_zero</span></a> <span class="id" title="var">f</span>)%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">_</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero:65"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:64"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
To prove the correction of this predicate, we first observe that it send the relation   <span class="inlinecode"><span class="id" title="var">Ø</span>|-</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">_</span></span> to the boolean implication. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_implb" class="idref" href="#is_zero_implb"><span class="id" title="lemma">is_zero_implb</span></a> {<a id="X:67" class="idref" href="#X:67"><span class="id" title="binder">X</span></a> <a id="Op:68" class="idref" href="#Op:68"><span class="id" title="binder">Op</span></a>:<span class="id" title="keyword">Set</span>} (<a id="e:69" class="idref" href="#e:69"><span class="id" title="binder">e</span></a> <a id="f:70" class="idref" href="#f:70"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:67"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:68"><span class="id" title="variable">Op</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:69"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#f:70"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#implb"><span class="id" title="definition">implb</span></a> (<a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#f:70"><span class="id" title="variable">f</span></a>) (<a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:69"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
We then prove that when the predicate holds, the argument is provably empty. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_inf" class="idref" href="#is_zero_inf"><span class="id" title="lemma">is_zero_inf</span></a> {<a id="X:71" class="idref" href="#X:71"><span class="id" title="binder">X</span></a> <a id="Op:72" class="idref" href="#Op:72"><span class="id" title="binder">Op</span></a>:<span class="id" title="keyword">Set</span>} (<a id="e:73" class="idref" href="#e:73"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:71"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:72"><span class="id" title="variable">Op</span></a>) : <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a>.<br/>

<br/>
</div>

<div class="doc">
Putting both previous lemmas together, we get that <span class="inlinecode"><span class="id" title="var">is_zero</span></span> does characterise provably  empty expressions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_spec" class="idref" href="#is_zero_spec"><span class="id" title="lemma">is_zero_spec</span></a> {<a id="X:74" class="idref" href="#X:74"><span class="id" title="binder">X</span></a> <a id="Op:75" class="idref" href="#Op:75"><span class="id" title="binder">Op</span></a>: <span class="id" title="keyword">Set</span>} (<a id="e:76" class="idref" href="#e:76"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:74"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:75"><span class="id" title="variable">Op</span></a>) : <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:76"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:76"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#7c7fc950fd355d38cde45f684c60fc09"><span class="id" title="notation">≤</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a>.<br/>

<br/>
</div>

<div class="doc">
Being empty implies not having the empty word property. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_ewp" class="idref" href="#is_zero_ewp"><span class="id" title="lemma">is_zero_ewp</span></a> {<a id="X:77" class="idref" href="#X:77"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Set</span>} (<a id="e:78" class="idref" href="#e:78"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:77"><span class="id" title="variable">X</span></a>) : <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">is_zero</span></span> also characterizes expressions whose <span class="inlinecode"><span class="id" title="var">clean_exp</span></span> is undefined. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_clean_exp_None" class="idref" href="#is_zero_clean_exp_None"><span class="id" title="lemma">is_zero_clean_exp_None</span></a> {<a id="X:79" class="idref" href="#X:79"><span class="id" title="binder">X</span></a> <a id="Op:80" class="idref" href="#Op:80"><span class="id" title="binder">Op</span></a>: <span class="id" title="keyword">Set</span>} (<a id="e:81" class="idref" href="#e:81"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#X:79"><span class="id" title="variable">X</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#Op:80"><span class="id" title="variable">Op</span></a>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.gnl.html#clean_exp"><span class="id" title="definition">clean_exp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:81"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab37"></a><h1 class="section">Second theorem : <span class="inlinecode"><span class="id" title="var">gnl_decompose</span></span> is a morphism</h1>

<div class="paragraph"> </div>

 We first show that <span class="inlinecode"><span class="id" title="var">flatten</span></span> is a morphism. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="flatten_proper" class="idref" href="#flatten_proper"><span class="id" title="instance">flatten_proper</span></a> <a id="o:82" class="idref" href="#o:82"><span class="id" title="binder">o</span></a> (<a id="r:83" class="idref" href="#r:83"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_inf"><span class="id" title="inductive">gnl_theo_inf</span></a> (<a class="idref" href="gnl_alg.theories.html#fKA"><span class="id" title="inductive">fKA</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:83"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.gnl.html#gnl_theo_inf"><span class="id" title="inductive">gnl_theo_inf</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:83"><span class="id" title="variable">r</span></a>) (<a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:82"><span class="id" title="variable">o</span></a>).<br/>

<br/>
</div>

<div class="doc">
Then we can show that <span class="inlinecode"><span class="id" title="var">gnl_recompose</span></span> is one as well. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_recompose_proper" class="idref" href="#gnl_recompose_proper"><span class="id" title="instance">gnl_recompose_proper</span></a> <a id="r:84" class="idref" href="#r:84"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_recompose.html#dec_inf"><span class="id" title="definition">dec_inf</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:84"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.gnl.html#gnl_theo_inf"><span class="id" title="inductive">gnl_theo_inf</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#r:84"><span class="id" title="variable">r</span></a>) <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab38"></a><h1 class="section">Clean recomposition</h1>
 We now show that we can recompose the cleaned version of the projections in the same  manner, yielding similar results. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_clean_recompose" class="idref" href="#gnl_clean_recompose"><span class="id" title="definition">gnl_clean_recompose</span></a> <a id="e:85" class="idref" href="#e:85"><span class="id" title="binder">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_recompose.html#slat_to_gnl"><span class="id" title="definition">slat_to_gnl</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:85"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fold_right</span> <a class="idref" href="gnl_alg.gnl.html#sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="o:86" class="idref" href="#o:86"><span class="id" title="binder">o</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:86"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:86"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:85"><span class="id" title="variable">e</span></a>)))) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="gnl_alg.gnl_recompose.html#operators"><span class="id" title="definition">operators</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:85"><span class="id" title="variable">e</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Some invariance properties of <span class="inlinecode"><span class="id" title="var">Clean</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="is_zero_clean_exp" class="idref" href="#is_zero_clean_exp"><span class="id" title="lemma">is_zero_clean_exp</span></a> (<a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>))  : <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#is_zero"><span class="id" title="definition">is_zero</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:87"><span class="id" title="variable">e</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ewp_clean_exp" class="idref" href="#ewp_clean_exp"><span class="id" title="lemma">ewp_clean_exp</span></a> (<a id="e:88" class="idref" href="#e:88"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>))  : <a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:88"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:88"><span class="id" title="variable">e</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="flatten_Clean" class="idref" href="#flatten_Clean"><span class="id" title="lemma">flatten_Clean</span></a> <a id="o:89" class="idref" href="#o:89"><span class="id" title="binder">o</span></a> (<a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:89"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:90"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:89"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:90"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_trad_Clean" class="idref" href="#gnl_reg_trad_Clean"><span class="id" title="lemma">gnl_reg_trad_Clean</span></a> <a id="o:91" class="idref" href="#o:91"><span class="id" title="binder">o</span></a> (<a id="e:92" class="idref" href="#e:92"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.theories.html#fKA"><span class="id" title="inductive">fKA</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:91"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:92"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:91"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:92"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_proj_Clean" class="idref" href="#gnl_reg_proj_Clean"><span class="id" title="lemma">gnl_reg_proj_Clean</span></a> <a id="o:93" class="idref" href="#o:93"><span class="id" title="binder">o</span></a> (<a id="e:94" class="idref" href="#e:94"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.theories.html#fKA"><span class="id" title="inductive">fKA</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:93"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:94"><span class="id" title="variable">e</span></a>) <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#o:93"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:94"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
With these, we can show that the clean recomposition is equivalent to the standard one. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_clean_recompose_id" class="idref" href="#gnl_clean_recompose_id"><span class="id" title="lemma">gnl_clean_recompose_id</span></a> <a id="e:95" class="idref" href="#e:95"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_clean_recompose"><span class="id" title="definition">gnl_clean_recompose</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:95"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#a28cde32b4b72a35d8cd7d0d6cf0647d"><span class="id" title="notation">==</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_recompose.html#e:95"><span class="id" title="variable">e</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.gnl_recompose.html#gnl_recomp"><span class="id" title="section">gnl_recomp</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>