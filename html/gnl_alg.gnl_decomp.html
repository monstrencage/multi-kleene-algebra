<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>gnl_alg.gnl_decomp: decomposition of expressions</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library gnl_alg.gnl_decomp: decomposition of expressions</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="gnl_alg.prelim.html#"><span class="id" title="library">prelim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="gnl_alg.gnl.html#"><span class="id" title="library">gnl</span></a> <a class="idref" href="gnl_alg.theories.html#"><span class="id" title="library">theories</span></a> <a class="idref" href="gnl_alg.depth.html#"><span class="id" title="library">depth</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="gnl_decomp" class="idref" href="#gnl_decomp"><span class="id" title="section">gnl_decomp</span></a>.<br/>
</div>

<div class="doc">
<a id="lab27"></a><h1 class="section">Definition of the projections and decompositions</h1>

<div class="paragraph"> </div>

 We fix a decidable set of variables and a decidable set of operators. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="gnl_decomp.A" class="idref" href="#gnl_decomp.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Set</span>} {<a id="gnl_decomp.decA" class="idref" href="#gnl_decomp.decA"><span class="id" title="variable">decA</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#A:1"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="gnl_decomp.O" class="idref" href="#gnl_decomp.O"><span class="id" title="variable">O</span></a> : <span class="id" title="keyword">Set</span>} {<a id="gnl_decomp.decO" class="idref" href="#gnl_decomp.decO"><span class="id" title="variable">decO</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#O:3"><span class="id" title="variable">O</span></a>}.<br/>

<br/>
</div>

<div class="doc">
A decomposition of a general term is either a variable or a pair of a  topmost operator with a list of general terms. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_decomposition" class="idref" href="#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>).<br/>

<br/>
</div>

<div class="doc">
We define <i>valid</i> decompositions, which will be the ones we will be interested in.  Variables are valid, and a pair <span class="inlinecode"><span class="id" title="var">o</span>,<span class="id" title="var">l</span></span> is valid provided that: <ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">l</span></span> contains at least two elements; and 
</li>
</ul>
<ul class="doclist">
<li> no term <span class="inlinecode"><span class="id" title="var">t</span></span> in <span class="inlinecode"><span class="id" title="var">l</span></span> has topmost operator <span class="inlinecode"><span class="id" title="var">o</span></span> (they are either variables or terms with a different topmost operator). 

</li>
</ul>
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_valid_elt" class="idref" href="#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> (<a id="o:5" class="idref" href="#o:5"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#t:6"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#t_prod"><span class="id" title="constructor">t_prod</span></a> <span class="id" title="var">o'</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ <span class="id" title="keyword">if</span> (<a class="idref" href="gnl_alg.gnl_decomp.html#o:5"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">o'</span>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_valid" class="idref" href="#gnl_valid"><span class="id" title="definition">gnl_valid</span></a> (<a id="t:8" class="idref" href="#t:8"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#t:8"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Nat.html#ltb"><span class="id" title="definition">Nat.ltb</span></a> 1 (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="definition">forallb</span> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <span class="id" title="var">o</span>) <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
We will consider decomposition up-to the following equivalence relation,  parametered by a term theory <span class="inlinecode"><span class="id" title="var">r</span></span>: 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_decomp_eq" class="idref" href="#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a id="r:10" class="idref" href="#r:10"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="d1:11" class="idref" href="#d1:11"><span class="id" title="binder">d1</span></a> <a id="d2:12" class="idref" href="#d2:12"><span class="id" title="binder">d2</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#d1:11"><span class="id" title="variable">d1</span></a>,<a class="idref" href="gnl_alg.gnl_decomp.html#d2:12"><span class="id" title="variable">d2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>,<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o'</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">o'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:10"><span class="id" title="variable">r</span></a>) <span class="id" title="var">l</span> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The following pair of functions describes how general terms can be decomposed. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="gnl_term_to_list" class="idref" href="#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> (<a id="o:15" class="idref" href="#o:15"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="s:16" class="idref" href="#s:16"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#s:16"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <span class="id" title="var">a</span><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> <a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">-[</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">]-</span></a> <span class="id" title="var">t</span> ⇒ <span class="id" title="keyword">if</span> <span class="id" title="var">i</span> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:15"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list:17"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:15"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:16"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)++(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list:17"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:15"><span class="id" title="variable">o</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.gnl_decomp.html#s:16"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">-[</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">]-</span></a> <span class="id" title="var">t</span><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_decompose" class="idref" href="#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a>  (<a id="t:19" class="idref" href="#t:19"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#t:19"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#t_prod"><span class="id" title="constructor">t_prod</span></a> <span class="id" title="var">o</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <span class="id" title="var">o</span> (<a class="idref" href="gnl_alg.gnl.html#t_prod"><span class="id" title="constructor">t_prod</span></a> <span class="id" title="var">o</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
From a decomposition, one can build back a general term (provided the  decomposition is valid). 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_recompose" class="idref" href="#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#s:21"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#GProd"><span class="id" title="definition">GProd</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_slat_proj</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> extracts a <span class="inlinecode"><span class="id" title="var">slat</span></span> expression that characterises the variables satisfying  the expression <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="gnl_slat_proj" class="idref" href="#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> (<a id="e:23" class="idref" href="#e:23"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="gnl_alg.theories.html#slat"><span class="id" title="definition">slat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#e:23"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj:24"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:23"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj:24"><span class="id" title="definition">gnl_slat_proj</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a> ⇒ <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj:24"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:23"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> extracts the maximal top subexpression of <span class="inlinecode"><span class="id" title="var">e</span></span> that only uses  the operator <span class="inlinecode"><span class="id" title="var">o</span></span>, and puts the other subexpressions inside variables. The result  is a regular expression over the set of variables <span class="inlinecode"><span class="id" title="var">GExp</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="gnl_reg_trad" class="idref" href="#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> (<a id="o:26" class="idref" href="#o:26"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="e:27" class="idref" href="#e:27"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="gnl_alg.theories.html#var_r"><span class="id" title="abbreviation">var_r</span></a> (<a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">i</span> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.theories.html#fbf73d74852c6c7aca59d27fe115b489"><span class="id" title="notation">@@</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.theories.html#var_r"><span class="id" title="abbreviation">var_r</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">i</span> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.theories.html#08eb96ff0845089548bf8ee31b997ae3"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a><a class="idref" href="gnl_alg.theories.html#08eb96ff0845089548bf8ee31b997ae3"><span class="id" title="notation">)^+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad:28"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.theories.html#var_r"><span class="id" title="abbreviation">var_r</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:27"><span class="id" title="variable">e</span></a><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_reg_proj</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> is similar, except that it <i>kills</i> (sets to <span class="inlinecode"><span class="id" title="var">ø</span></span>) parts of the  expression that do not have operator <span class="inlinecode"><span class="id" title="var">o</span></span> as the topmost operator. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="gnl_reg_proj" class="idref" href="#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> (<a id="o:30" class="idref" href="#o:30"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) : <a class="idref" href="gnl_alg.theories.html#Reg"><span class="id" title="definition">Reg</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="gnl_alg.gnl.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj:32"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj:32"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">×{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#fd89c21d48f71ed61431186641520401"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">i</span> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.theories.html#fbf73d74852c6c7aca59d27fe115b489"><span class="id" title="notation">@@</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <span class="id" title="var">f</span> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.gnl.html#837d4938ec1d5836484d61218c11c6fe"><span class="id" title="abbreviation">ø</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">^{</span></a><span class="id" title="var">i</span><a class="idref" href="gnl_alg.gnl.html#f10704a440115e720c67254d0205f3c6"><span class="id" title="notation">}</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">i</span> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj:32"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">+</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.theories.html#fbf73d74852c6c7aca59d27fe115b489"><span class="id" title="notation">@@</span></a> <a class="idref" href="gnl_alg.theories.html#08eb96ff0845089548bf8ee31b997ae3"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a><a class="idref" href="gnl_alg.theories.html#08eb96ff0845089548bf8ee31b997ae3"><span class="id" title="notation">)^+</span></a> <a class="idref" href="gnl_alg.gnl.html#00f623954fe4dd5f04bdc5ceb1846ff4"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj:32"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:30"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:31"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Now that we have decompositions and projections, we can define a new satisfaction relation,  relating decompositions with the expression's projections. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_decomp_sat" class="idref" href="#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a id="r:34" class="idref" href="#r:34"><span class="id" title="binder">r</span></a> (<a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a>) (<a id="e:36" class="idref" href="#e:36"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#s:35"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="var">a</span> <a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">|=</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">slat</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:36"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:38" class="idref" href="#m:38"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:34"><span class="id" title="variable">r</span></a>) <span class="id" title="var">l</span> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:38"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <span class="id" title="var">o</span> <a class="idref" href="gnl_alg.gnl_decomp.html#e:36"><span class="id" title="variable">e</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab28"></a><h1 class="section">Facts about the decomposition</h1>

<div class="paragraph"> </div>

<a id="lab29"></a><h2 class="section">Stability of validity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_valid_elt_proper" class="idref" href="#gnl_valid_elt_proper"><span class="id" title="instance">gnl_valid_elt_proper</span></a> <a id="rT:39" class="idref" href="#rT:39"><span class="id" title="binder">rT</span></a> <a id="o:40" class="idref" href="#o:40"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#rT:39"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:40"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#rT:39"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:40"><span class="id" title="variable">o</span></a>).<br/>
 &nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="48353cc71c302aa8732356c259dda540" class="idref" href="#48353cc71c302aa8732356c259dda540"><span class="id" title="instance">Ø_valid_elt_proper</span></a> <a id="o:41" class="idref" href="#o:41"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:41"><span class="id" title="variable">o</span></a>).<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_valid_proper" class="idref" href="#gnl_valid_proper"><span class="id" title="instance">gnl_valid_proper</span></a> <a id="rT:42" class="idref" href="#rT:42"><span class="id" title="binder">rT</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="o:43" class="idref" href="#o:43"><span class="id" title="binder">o</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#rT:42"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:43"><span class="id" title="variable">o</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#rT:42"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid"><span class="id" title="definition">gnl_valid</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab30"></a><h2 class="section">General properties of decompostions</h2>
 As expected, our relation on decompositions is an equivalence relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_decomp_eq_Equivalence" class="idref" href="#gnl_decomp_eq_Equivalence"><span class="id" title="instance">gnl_decomp_eq_Equivalence</span></a> <a id="r:48" class="idref" href="#r:48"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:48"><span class="id" title="variable">r</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> always return a non-empty list. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_term_to_list_not_nil" class="idref" href="#gnl_term_to_list_not_nil"><span class="id" title="lemma">gnl_term_to_list_not_nil</span></a> <a id="o:49" class="idref" href="#o:49"><span class="id" title="binder">o</span></a> (<a id="s:50" class="idref" href="#s:50"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:49"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="notation">[]</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> return a list of terms that are valid according to <span class="inlinecode"><span class="id" title="var">gnl_valid_elt</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_term_to_list_valid_elt" class="idref" href="#gnl_term_to_list_valid_elt"><span class="id" title="lemma">gnl_term_to_list_valid_elt</span></a> <a id="o:51" class="idref" href="#o:51"><span class="id" title="binder">o</span></a> <a id="x:52" class="idref" href="#x:52"><span class="id" title="binder">x</span></a> <a id="s:53" class="idref" href="#s:53"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.gnl_decomp.html#x:52"><span class="id" title="variable">x</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:51"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:53"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:51"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#x:52"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
With the two previous lemmas, we can show that our decomposition function  only returns valid decompositions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_decompose_valid" class="idref" href="#gnl_decompose_valid"><span class="id" title="lemma">gnl_decompose_valid</span></a>  (<a id="t:54" class="idref" href="#t:54"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid"><span class="id" title="definition">gnl_valid</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:54"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
A useful observation: <span class="inlinecode"><span class="id" title="var">gnl_decompose</span></span> and <span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> enjoy the  following correspondance: 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_decompose_gnl_term_to_list" class="idref" href="#gnl_decompose_gnl_term_to_list"><span class="id" title="lemma">gnl_decompose_gnl_term_to_list</span></a> (<a id="s:55" class="idref" href="#s:55"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="o:56" class="idref" href="#o:56"><span class="id" title="binder">o</span></a> <a id="l:57" class="idref" href="#l:57"><span class="id" title="binder">l</span></a>, <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:55"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#o:56"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#l:57"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:56"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:55"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#l:57"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
The following will be useful in case analyses: if a pair of term is equivalent  according to the empty theory, either both are the same variable, or they can be  decomposed as pairs of a shared operator <span class="inlinecode"><span class="id" title="var">o</span></span> and elementwise equivalent lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_decompose_eq" class="idref" href="#gnl_decompose_eq"><span class="id" title="lemma">gnl_decompose_eq</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> <a id="t:59" class="idref" href="#t:59"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">T</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#a:60"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="o:61" class="idref" href="#o:61"><span class="id" title="binder">o</span></a> <a id="l:62" class="idref" href="#l:62"><span class="id" title="binder">l</span></a> <a id="m:63" class="idref" href="#m:63"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#o:61"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#l:62"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:59"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#o:61"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#m:63"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:62"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:63"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> is a morphism from terms up-to the empty theory to lists up-to  elementwise equivalence. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_term_to_list_proper" class="idref" href="#gnl_term_to_list_proper"><span class="id" title="instance">gnl_term_to_list_proper</span></a> (<a id="o:64" class="idref" href="#o:64"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>)) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:64"><span class="id" title="variable">o</span></a>).<br/>

<br/>
</div>

<div class="doc">
For the next result, we need the following auxiliary result: if <span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> is  elementwise equivalent to a concatenation <span class="inlinecode"><span class="id" title="var">l</span>++<span class="id" title="var">m</span></span>, then we can build terms <span class="inlinecode"><span class="id" title="var">s1</span></span> and <span class="inlinecode"><span class="id" title="var">s2</span></span>  such that <span class="inlinecode"><span class="id" title="var">t</span></span> is equivalent to the product <span class="inlinecode"><span class="id" title="var">s1</span>-[<span class="id" title="var">o</span>]-<span class="id" title="var">s2</span></span> and <span class="inlinecode"><span class="id" title="var">s1</span></span> corresponds to <span class="inlinecode"><span class="id" title="var">l</span></span> and  <span class="inlinecode"><span class="id" title="var">s2</span></span> corresponds to <span class="inlinecode"><span class="id" title="var">m</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_term_eq_app" class="idref" href="#gnl_term_eq_app"><span class="id" title="lemma">gnl_term_eq_app</span></a> (<a id="t:65" class="idref" href="#t:65"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) <a id="o:66" class="idref" href="#o:66"><span class="id" title="binder">o</span></a> <a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> <a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#l:67"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#l:67"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#m:68"><span class="id" title="variable">m</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:66"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:65"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="s1:69" class="idref" href="#s1:69"><span class="id" title="binder">s1</span></a> <a id="s2:70" class="idref" href="#s2:70"><span class="id" title="binder">s2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:66"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s1:69"><span class="id" title="variable">s1</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:67"><span class="id" title="variable">l</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:66"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s2:70"><span class="id" title="variable">s2</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#m:68"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s1:69"><span class="id" title="variable">s1</span></a> <a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">-[</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#o:66"><span class="id" title="variable">o</span></a><a class="idref" href="gnl_alg.gnl.html#01be0c6757b59b179095e5796361d187"><span class="id" title="notation">]-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s2:70"><span class="id" title="variable">s2</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">T</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:65"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
With this we can show that <span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> enjoys a form of injectivity: 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_term_to_list_gnl_term_eq" class="idref" href="#gnl_term_to_list_gnl_term_eq"><span class="id" title="lemma">gnl_term_to_list_gnl_term_eq</span></a> (<a id="s:71" class="idref" href="#s:71"><span class="id" title="binder">s</span></a> <a id="t:72" class="idref" href="#t:72"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) <a id="o:73" class="idref" href="#o:73"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:73"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:71"><span class="id" title="variable">s</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:73"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:72"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:71"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">T</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:72"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
Valid decompostion recompose to actual terms (no <span class="inlinecode"><span class="id" title="var">None</span></span> value). 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_recompose_Some" class="idref" href="#gnl_recompose_Some"><span class="id" title="lemma">gnl_recompose_Some</span></a> <a id="d:74" class="idref" href="#d:74"><span class="id" title="binder">d</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid"><span class="id" title="definition">gnl_valid</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#d:74"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:75" class="idref" href="#t:75"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#d:74"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:75"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
For terms that are valid according to <span class="inlinecode"><span class="id" title="var">gnl_valid_elt</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span>, <span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> just returns  the singleton list containing the term itself. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_valid_elt_to_list_sngl" class="idref" href="#gnl_valid_elt_to_list_sngl"><span class="id" title="lemma">gnl_valid_elt_to_list_sngl</span></a> <a id="o:76" class="idref" href="#o:76"><span class="id" title="binder">o</span></a> <a id="a:77" class="idref" href="#a:77"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid_elt"><span class="id" title="definition">gnl_valid_elt</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:76"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:76"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.gnl_decomp.html#a:77"><span class="id" title="variable">a</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
</div>

<div class="doc">
Since <span class="inlinecode"><span class="id" title="var">gnl_term_to_list</span></span> dose not return the empty list, the <span class="inlinecode"><span class="id" title="var">GProd</span></span> of its output is  well defined. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GProd_gnl_term_to_list_Some" class="idref" href="#GProd_gnl_term_to_list_Some"><span class="id" title="lemma">GProd_gnl_term_to_list_Some</span></a> (<a id="s:78" class="idref" href="#s:78"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) <a id="o:79" class="idref" href="#o:79"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:80" class="idref" href="#t:80"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl.html#GProd"><span class="id" title="definition">GProd</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:79"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:79"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:78"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:80"><span class="id" title="variable">t</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Furthermore, that output is equivalent to the original term. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="GProd_gnl_term_to_list_eq" class="idref" href="#GProd_gnl_term_to_list_eq"><span class="id" title="lemma">GProd_gnl_term_to_list_eq</span></a> (<a id="s:81" class="idref" href="#s:81"><span class="id" title="binder">s</span></a> <a id="t:82" class="idref" href="#t:82"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) <a id="o:83" class="idref" href="#o:83"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl.html#GProd"><span class="id" title="definition">GProd</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:83"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:83"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:81"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:82"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:81"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">T</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:82"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab31"></a><h2 class="section">From terms to decompositions and back</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">gnl_recompose</span></span> is a morphism w.r.t. any theory <span class="inlinecode"><span class="id" title="var">rT</span></span> . 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_recompose_proper" class="idref" href="#gnl_recompose_proper"><span class="id" title="instance">gnl_recompose_proper</span></a> <a id="rT:84" class="idref" href="#rT:84"><span class="id" title="binder">rT</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#rT:84"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#or_none"><span class="id" title="definition">or_none</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#rT:84"><span class="id" title="variable">rT</span></a>)) <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a>.<br/>

<br/>
</div>

<div class="doc">
The same does not hold for <span class="inlinecode"><span class="id" title="var">gnl_decompose</span></span> with arbitrary theories, but it is true  in the case of the empty theory. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="gnl_decompose_proper" class="idref" href="#gnl_decompose_proper"><span class="id" title="instance">gnl_decompose_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can show that valid decompositions recompose to terms that decompose back into them. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decompose_recompose" class="idref" href="#decompose_recompose"><span class="id" title="lemma">decompose_recompose</span></a> (<a id="s:85" class="idref" href="#s:85"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a>) <a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid"><span class="id" title="definition">gnl_valid</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:85"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:85"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:85"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
We also show that recomposing the decomposition of a term yields a (possibly different  but) equivalent term. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="recompose_decompose" class="idref" href="#recompose_decompose"><span class="id" title="lemma">recompose_decompose</span></a> (<a id="s:87" class="idref" href="#s:87"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:88" class="idref" href="#t:88"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:87"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">|-</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:87"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">T</span></a><a class="idref" href="gnl_alg.gnl.html#124c6c9524a42e3cc52296df1e17e648"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:88"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab32"></a><h1 class="section">Facts about the projections</h1>

<div class="paragraph"> </div>

 Both <span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span> and <span class="inlinecode"><span class="id" title="var">gnl_reg_proj</span></span> produce regular expression that do not  enjoy the empty word property. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ewp_gnl_reg_trad" class="idref" href="#ewp_gnl_reg_trad"><span class="id" title="lemma">ewp_gnl_reg_trad</span></a> (<a id="o:89" class="idref" href="#o:89"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:89"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:90"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ewp_gnl_reg_proj" class="idref" href="#ewp_gnl_reg_proj"><span class="id" title="lemma">ewp_gnl_reg_proj</span></a> (<a id="o:91" class="idref" href="#o:91"><span class="id" title="binder">o</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="e:92" class="idref" href="#e:92"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.theories.html#ewp_r"><span class="id" title="definition">ewp_r</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:91"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:92"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
Helper lemma to lift the invariance of <span class="inlinecode">|=(<span class="id" title="var">ø</span>)=</span> with respect equivalences on  terms and expression to lists up-to elementwise equivalence. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_gnl_sat_modulo_eq" class="idref" href="#list_lift_gnl_sat_modulo_eq"><span class="id" title="lemma">list_lift_gnl_sat_modulo_eq</span></a>  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="s1:93" class="idref" href="#s1:93"><span class="id" title="binder">s1</span></a> <a id="s2:94" class="idref" href="#s2:94"><span class="id" title="binder">s2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)) <a id="e1:95" class="idref" href="#e1:95"><span class="id" title="binder">e1</span></a> <a id="e2:96" class="idref" href="#e2:96"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_term_theo_eq"><span class="id" title="inductive">gnl_term_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#s1:93"><span class="id" title="variable">s1</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s2:94"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#s1:93"><span class="id" title="variable">s1</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e1:95"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_eq"><span class="id" title="definition">gnl_theo_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#e1:95"><span class="id" title="variable">e1</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e2:96"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#s2:94"><span class="id" title="variable">s2</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e2:96"><span class="id" title="variable">e2</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
The interpretation of <span class="inlinecode"><span class="id" title="var">gnl_reg_proj</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> is contained in that of <span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_proj_reg_trad_sat" class="idref" href="#gnl_reg_proj_reg_trad_sat"><span class="id" title="lemma">gnl_reg_proj_reg_trad_sat</span></a>  (<a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>) <a id="o:98" class="idref" href="#o:98"><span class="id" title="binder">o</span></a> <a id="m:99" class="idref" href="#m:99"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#m:99"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:98"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:99"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:98"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:97"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab33"></a><h1 class="section">Semantic correspondance</h1>
 We now proceed to show an equivalence between the terms satisfying <span class="inlinecode"><span class="id" title="var">e</span></span> and the  decompositions satisfying <span class="inlinecode"><span class="id" title="var">e</span></span>'s projections. 
<div class="paragraph"> </div>

<a id="lab34"></a><h2 class="section">Preliminary work</h2>
 A variable satisfies <span class="inlinecode"><span class="id" title="var">e</span></span> iff it satisfies the <span class="inlinecode"><span class="id" title="var">slat</span></span> projection of <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_sat_vars" class="idref" href="#gnl_sat_vars"><span class="id" title="lemma">gnl_sat_vars</span></a>  (<a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:101" class="idref" href="#x:101"><span class="id" title="binder">x</span></a>, <a class="idref" href="gnl_alg.gnl.html#t_var"><span class="id" title="constructor">t_var</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#x:101"><span class="id" title="variable">x</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#x:101"><span class="id" title="variable">x</span></a> <a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">|=</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">slat</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:100"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
Every term satisfying <span class="inlinecode"><span class="id" title="var">e</span></span> can be fashioned into a decomposition  satisfying <span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_trad_sat" class="idref" href="#gnl_reg_trad_sat"><span class="id" title="lemma">gnl_reg_trad_sat</span></a> (<a id="e:102" class="idref" href="#e:102"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:103" class="idref" href="#s:103"><span class="id" title="binder">s</span></a> <a id="o:104" class="idref" href="#o:104"><span class="id" title="binder">o</span></a>, <a class="idref" href="gnl_alg.gnl_decomp.html#s:103"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:102"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:105" class="idref" href="#m:105"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_term_to_list"><span class="id" title="definition">gnl_term_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:104"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:103"><span class="id" title="variable">s</span></a>) (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:105"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a>  <a class="idref" href="gnl_alg.gnl_decomp.html#m:105"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:104"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:102"><span class="id" title="variable">e</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
For every term satisfying <span class="inlinecode"><span class="id" title="var">e</span></span> whose decomposition is a pair <span class="inlinecode"><span class="id" title="var">o</span>,<span class="id" title="var">l</span></span>, that pair satisfies  <span class="inlinecode"><span class="id" title="var">gnl_reg_proj</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_proj_sat" class="idref" href="#gnl_reg_proj_sat"><span class="id" title="lemma">gnl_reg_proj_sat</span></a> (<a id="e:106" class="idref" href="#e:106"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:107" class="idref" href="#s:107"><span class="id" title="binder">s</span></a> <a id="o:108" class="idref" href="#o:108"><span class="id" title="binder">o</span></a> <a id="l:109" class="idref" href="#l:109"><span class="id" title="binder">l</span></a>,  <a class="idref" href="gnl_alg.gnl_decomp.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:106"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#o:108"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="gnl_alg.gnl_decomp.html#l:109"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:110" class="idref" href="#m:110"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:109"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:110"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:110"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:108"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:106"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
It is now straightforward to show that for every term satisfying <span class="inlinecode"><span class="id" title="var">e</span></span>, its decomposition  satisfies one of <span class="inlinecode"><span class="id" title="var">e</span></span>'s projections. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_decompose_sat" class="idref" href="#gnl_decompose_sat"><span class="id" title="lemma">gnl_decompose_sat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) (<a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#s:111"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:111"><span class="id" title="variable">s</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#e:112"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
Conversely, for every decomposition satisfying <span class="inlinecode"><span class="id" title="var">e</span></span>'s projections, its recomposed  term satisfies <span class="inlinecode"><span class="id" title="var">e</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_recompose_sat" class="idref" href="#gnl_recompose_sat"><span class="id" title="lemma">gnl_recompose_sat</span></a> (<a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a>: <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a>) <a id="e:114" class="idref" href="#e:114"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:113"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:114"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:115" class="idref" href="#t:115"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_recompose"><span class="id" title="definition">gnl_recompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:113"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:115"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:115"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:114"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
The interpretation of <span class="inlinecode"><span class="id" title="var">e</span></span>'s projections only contains valid decompositions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_decomp_sat_valid" class="idref" href="#gnl_decomp_sat_valid"><span class="id" title="lemma">gnl_decomp_sat_valid</span></a> (<a id="s:118" class="idref" href="#s:118"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomposition"><span class="id" title="definition">gnl_decomposition</span></a>) <a id="e:119" class="idref" href="#e:119"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:119"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_valid"><span class="id" title="definition">gnl_valid</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab35"></a><h2 class="section">Main theorem: semantic correspondance</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="gnl_semantic_correspondance" class="idref" href="#gnl_semantic_correspondance"><span class="id" title="lemma">gnl_semantic_correspondance</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:128" class="idref" href="#s:128"><span class="id" title="binder">s</span></a> (<a id="e:129" class="idref" href="#e:129"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:128"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:129"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:128"><span class="id" title="variable">s</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:130"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:129"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab36"></a><h1 class="section">Clean projections</h1>

<div class="paragraph"> </div>

 To apply the decompositions inductively, we need the projections to be built out of  <i>strictly smaller</i> expressions for some ordering. The ordering we shall consider  (later on) will be based on <span class="inlinecode"><span class="id" title="var">depth</span></span>, a semantic notion. However, because of its  annihilation powers, <span class="inlinecode"><span class="id" title="var">ø</span></span> may <i>hide</i> subexpressions from the semantics, like in the  expression <span class="inlinecode"><span class="id" title="var">ø</span></span> <span class="inlinecode">×{<span class="id" title="var">o</span>}</span> <span class="inlinecode"><span class="id" title="var">e</span></span>, where <span class="inlinecode"><span class="id" title="var">e</span></span> is a proper subexpression while not contributing to  the semantics. This means the projections defined above may feature in their support  expressions of larger depth, which is problematic. To circumvent this problem, we  apply the function <span class="inlinecode"><span class="id" title="var">Clean</span></span> before and after projecting, to ensure we have <i>productive</i>  expressions, whose every subexpression contribute to the semantics. 
<div class="paragraph"> </div>

 Thus we define a new notion of satisfaction between decompositions and expressions,  using <i>clean</i> projections. Notice that we do not bother cleaning the <span class="inlinecode"><span class="id" title="var">slat</span></span> projection,  as it is not meant to bear an inductive principle. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="gnl_clean_decomp_sat" class="idref" href="#gnl_clean_decomp_sat"><span class="id" title="definition">gnl_clean_decomp_sat</span></a> <a id="r:133" class="idref" href="#r:133"><span class="id" title="binder">r</span></a> <a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> <a id="e:135" class="idref" href="#e:135"><span class="id" title="binder">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#s:134"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="var">a</span> <a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">|=</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">slat</span></a><a class="idref" href="gnl_alg.theories.html#f14c4ae2c55bc566e5b0a22b0c177cd7"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_slat_proj"><span class="id" title="definition">gnl_slat_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:135"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.theories.html#Word"><span class="id" title="definition">Word</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:133"><span class="id" title="variable">r</span></a>) <span class="id" title="var">l</span> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:137"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:137"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a> <a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <span class="id" title="var">o</span> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:135"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab37"></a><h2 class="section">Semantic correspondance</h2>

<div class="paragraph"> </div>

 We proceed to show that the semantic correspondance from the previous section still  holds. We begin by showing, first for <span class="inlinecode"><span class="id" title="var">gnl_reg_trad</span></span>, then for <span class="inlinecode"><span class="id" title="var">gnl_reg_proj</span></span> that  cleaning does not change the semantics of the output. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_trad_Clean" class="idref" href="#gnl_reg_trad_Clean"><span class="id" title="lemma">gnl_reg_trad_Clean</span></a> (<a id="r:138" class="idref" href="#r:138"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)) <a id="o:139" class="idref" href="#o:139"><span class="id" title="binder">o</span></a> <a id="e:140" class="idref" href="#e:140"><span class="id" title="binder">e</span></a> <a id="l:141" class="idref" href="#l:141"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:142" class="idref" href="#m:142"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.theories.html#Word"><span class="id" title="definition">Word</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:138"><span class="id" title="variable">r</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:141"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:142"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a>  <a class="idref" href="gnl_alg.gnl_decomp.html#m:142"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a> <a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:139"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:140"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.theories.html#Word"><span class="id" title="definition">Word</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:138"><span class="id" title="variable">r</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:141"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:143"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:143"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a> <a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_trad"><span class="id" title="definition">gnl_reg_trad</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:139"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:140"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="gnl_reg_proj_Clean" class="idref" href="#gnl_reg_proj_Clean"><span class="id" title="lemma">gnl_reg_proj_Clean</span></a> <a id="r:217" class="idref" href="#r:217"><span class="id" title="binder">r</span></a> <a id="o:218" class="idref" href="#o:218"><span class="id" title="binder">o</span></a> <a id="e:219" class="idref" href="#e:219"><span class="id" title="binder">e</span></a> <a id="l:220" class="idref" href="#l:220"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:221" class="idref" href="#m:221"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.theories.html#Word"><span class="id" title="definition">Word</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:217"><span class="id" title="variable">r</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:220"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:221"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a>  <a class="idref" href="gnl_alg.gnl_decomp.html#m:221"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a> <a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:218"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:219"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:222" class="idref" href="#m:222"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.theories.html#Word"><span class="id" title="definition">Word</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> (<a class="idref" href="gnl_alg.gnl.html#gnl_theo_sat"><span class="id" title="definition">gnl_theo_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:217"><span class="id" title="variable">r</span></a>) <a class="idref" href="gnl_alg.gnl_decomp.html#l:220"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.theories.html#Word_to_list"><span class="id" title="definition">Word_to_list</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:222"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#m:222"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a> <a class="idref" href="gnl_alg.theories.html#ka"><span class="id" title="inductive">ka</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:218"><span class="id" title="variable">o</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:219"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
With this out of the way, we easily show that the new semantic relation bewteen  decompositions and expressions is equivalent to the old one. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="gnl_clean_decomp_sat_id" class="idref" href="#gnl_clean_decomp_sat_id"><span class="id" title="lemma">gnl_clean_decomp_sat_id</span></a> <a id="r:292" class="idref" href="#r:292"><span class="id" title="binder">r</span></a> <a id="s:293" class="idref" href="#s:293"><span class="id" title="binder">s</span></a> <a id="e:294" class="idref" href="#e:294"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_clean_decomp_sat"><span class="id" title="definition">gnl_clean_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:292"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:294"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_sat"><span class="id" title="definition">gnl_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#r:292"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:293"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:294"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
We thus recover the semantic correspondance theorem. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="gnl_clean_semantic_correspondance" class="idref" href="#gnl_clean_semantic_correspondance"><span class="id" title="lemma">gnl_clean_semantic_correspondance</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:295" class="idref" href="#s:295"><span class="id" title="binder">s</span></a> (<a id="e:296" class="idref" href="#e:296"><span class="id" title="binder">e</span></a> : <a class="idref" href="gnl_alg.gnl.html#gnl_exp"><span class="id" title="inductive">gnl_exp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_clean_decomp_sat"><span class="id" title="definition">gnl_clean_decomp_sat</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:295"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:296"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t:297" class="idref" href="#t:297"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp_eq"><span class="id" title="definition">gnl_decomp_eq</span></a> <a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#s:295"><span class="id" title="variable">s</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:297"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:297"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">|=(</span></a><a class="idref" href="gnl_alg.gnl.html#dd3d5eb0013c3bde1e0dc0f80a071555"><span class="id" title="abbreviation">Ø</span></a><a class="idref" href="gnl_alg.gnl.html#53969c9135b8deffc0da1fa066413061"><span class="id" title="notation">)=</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:296"><span class="id" title="variable">e</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a id="lab38"></a><h2 class="section">Subexpressions and subterms</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sub_expr" class="idref" href="#sub_expr"><span class="id" title="definition">sub_expr</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="gnl_alg.gnl.html#GExp"><span class="id" title="abbreviation">GExp</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="e:298" class="idref" href="#e:298"><span class="id" title="binder">e</span></a> <a id="f:299" class="idref" href="#f:299"><span class="id" title="binder">f</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="o:300" class="idref" href="#o:300"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="definition">In</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:298"><span class="id" title="variable">e</span></a>) (<a class="idref" href="gnl_alg.gnl.html#gnl_support"><span class="id" title="definition">gnl_support</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> (<a class="idref" href="gnl_alg.gnl_decomp.html#gnl_reg_proj"><span class="id" title="definition">gnl_reg_proj</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#o:300"><span class="id" title="variable">o</span></a> (<a class="idref" href="gnl_alg.gnl.html#Clean"><span class="id" title="definition">Clean</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#f:299"><span class="id" title="variable">f</span></a>)))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sub_expr_implies_is_deep_clean" class="idref" href="#sub_expr_implies_is_deep_clean"><span class="id" title="lemma">sub_expr_implies_is_deep_clean</span></a> <a id="e:301" class="idref" href="#e:301"><span class="id" title="binder">e</span></a> <a id="f:302" class="idref" href="#f:302"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.gnl_decomp.html#sub_expr"><span class="id" title="definition">sub_expr</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:301"><span class="id" title="variable">e</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#f:302"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.gnl.html#is_deep_clean"><span class="id" title="definition">is_deep_clean</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#e:301"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sub_term" class="idref" href="#sub_term"><span class="id" title="definition">sub_term</span></a> (<a id="s:307" class="idref" href="#s:307"><span class="id" title="binder">s</span></a> <a id="t:308" class="idref" href="#t:308"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.gnl.html#GTerm"><span class="id" title="abbreviation">GTerm</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp.O"><span class="id" title="variable">O</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decompose"><span class="id" title="definition">gnl_decompose</span></a> <a class="idref" href="gnl_alg.gnl_decomp.html#t:308"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.gnl_decomp.html#s:307"><span class="id" title="variable">s</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.gnl_decomp.html#gnl_decomp"><span class="id" title="section">gnl_decomp</span></a>.<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>