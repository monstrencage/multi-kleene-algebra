<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>gnl_alg.prelim: Preliminaries</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library gnl_alg.prelim: Preliminaries</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Relations.Relation_Definitions</span> <span class="id" title="library">RelationClasses</span> <span class="id" title="library">Classes.Morphisms</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">List</span> <span class="id" title="library">Decidable</span> <span class="id" title="library">Lists.ListDec</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Psatz</span>.<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="module">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">proofs</span>.<br/>

<br/>
</div>

<div class="doc">
We will need to perform case analysis on lists from the right hand side. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_last_dec" class="idref" href="#list_last_dec"><span class="id" title="lemma">list_last_dec</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>} (<a id="l:2" class="idref" href="#l:2"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#A:1"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="gnl_alg.prelim.html#l:2"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a> <a id="l':4" class="idref" href="#l':4"><span class="id" title="binder">l'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#l:2"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#l':4"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.prelim.html#a:3"><span class="id" title="variable">a</span></a><span class="id" title="notation">]</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Levi's lemma is always handy. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Levi" class="idref" href="#Levi"><span class="id" title="lemma">Levi</span></a> {<a id="X:5" class="idref" href="#X:5"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Set</span>} (<a id="a:6" class="idref" href="#a:6"><span class="id" title="binder">a</span></a> <a id="b:7" class="idref" href="#b:7"><span class="id" title="binder">b</span></a> <a id="c:8" class="idref" href="#c:8"><span class="id" title="binder">c</span></a> <a id="d:9" class="idref" href="#d:9"><span class="id" title="binder">d</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#X:5"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#a:6"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.prelim.html#b:7"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#c:8"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.prelim.html#d:9"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#a:6"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#c:8"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#d:9"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#m:10"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#b:7"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m:11" class="idref" href="#m:11"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#c:8"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#a:6"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m:11"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#b:7"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#m:11"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#d:9"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
We will routinely need to lift relations from a type to the  corresponding option type. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="or_none" class="idref" href="#or_none"><span class="id" title="definition">or_none</span></a> {<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>} (<a id="r:13" class="idref" href="#r:13"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#A:12"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="gnl_alg.prelim.html#A:12"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a:14" class="idref" href="#a:14"><span class="id" title="binder">a</span></a> <a id="b:15" class="idref" href="#b:15"><span class="id" title="binder">b</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#a:14"><span class="id" title="variable">a</span></a>,<a class="idref" href="gnl_alg.prelim.html#b:15"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>,<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="gnl_alg.prelim.html#r:13"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#a:14"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#b:15"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This operation preserves equivalence relations. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="or_none_equiv" class="idref" href="#or_none_equiv"><span class="id" title="instance">or_none_equiv</span></a> {<a id="X:18" class="idref" href="#X:18"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Set</span>} (<a id="r:19" class="idref" href="#r:19"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#X:18"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#r:19"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="gnl_alg.prelim.html#or_none"><span class="id" title="definition">or_none</span></a> <a class="idref" href="gnl_alg.prelim.html#r:19"><span class="id" title="variable">r</span></a>).<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
For every partial order, any map that is monotone with respect to the preorder is also  monotone with respect to the equivalence relation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="partial_order_monotone_map_are_proper" class="idref" href="#partial_order_monotone_map_are_proper"><span class="id" title="instance">partial_order_monotone_map_are_proper</span></a> <br/>
&nbsp;&nbsp;{<a id="X:20" class="idref" href="#X:20"><span class="id" title="binder">X</span></a>} (<a id="rx:21" class="idref" href="#rx:21"><span class="id" title="binder">rx</span></a> <a id="sx:22" class="idref" href="#sx:22"><span class="id" title="binder">sx</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#X:20"><span class="id" title="variable">X</span></a>) {<a id="eqx:23" class="idref" href="#eqx:23"><span class="id" title="binder">eqx</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#rx:21"><span class="id" title="variable">rx</span></a>} {<a id="pox:24" class="idref" href="#pox:24"><span class="id" title="binder">pox</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#sx:22"><span class="id" title="variable">sx</span></a>} {<a id="POx:25" class="idref" href="#POx:25"><span class="id" title="binder">POx</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#rx:21"><span class="id" title="variable">rx</span></a> <a class="idref" href="gnl_alg.prelim.html#sx:22"><span class="id" title="variable">sx</span></a>}<br/>
&nbsp;&nbsp;{<a id="Y:26" class="idref" href="#Y:26"><span class="id" title="binder">Y</span></a>} (<a id="ry:27" class="idref" href="#ry:27"><span class="id" title="binder">ry</span></a> <a id="sy:28" class="idref" href="#sy:28"><span class="id" title="binder">sy</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:26"><span class="id" title="variable">Y</span></a>) {<a id="eqy:29" class="idref" href="#eqy:29"><span class="id" title="binder">eqy</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:27"><span class="id" title="variable">ry</span></a>} {<a id="poy:30" class="idref" href="#poy:30"><span class="id" title="binder">poy</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:28"><span class="id" title="variable">sy</span></a>} {<a id="POy:31" class="idref" href="#POy:31"><span class="id" title="binder">POy</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:27"><span class="id" title="variable">ry</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:28"><span class="id" title="variable">sy</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:32" class="idref" href="#f:32"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:20"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:26"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#sx:22"><span class="id" title="variable">sx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:28"><span class="id" title="variable">sy</span></a>) <a class="idref" href="gnl_alg.prelim.html#f:32"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#rx:21"><span class="id" title="variable">rx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:27"><span class="id" title="variable">ry</span></a>) <a class="idref" href="gnl_alg.prelim.html#f:32"><span class="id" title="variable">f</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="partial_order_monotone_map_are_proper_bin" class="idref" href="#partial_order_monotone_map_are_proper_bin"><span class="id" title="instance">partial_order_monotone_map_are_proper_bin</span></a> <br/>
&nbsp;&nbsp;{<a id="X:33" class="idref" href="#X:33"><span class="id" title="binder">X</span></a>} (<a id="rx:34" class="idref" href="#rx:34"><span class="id" title="binder">rx</span></a> <a id="sx:35" class="idref" href="#sx:35"><span class="id" title="binder">sx</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#X:33"><span class="id" title="variable">X</span></a>) {<a id="eqx:36" class="idref" href="#eqx:36"><span class="id" title="binder">eqx</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#rx:34"><span class="id" title="variable">rx</span></a>} {<a id="pox:37" class="idref" href="#pox:37"><span class="id" title="binder">pox</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#sx:35"><span class="id" title="variable">sx</span></a>} {<a id="POx:38" class="idref" href="#POx:38"><span class="id" title="binder">POx</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#rx:34"><span class="id" title="variable">rx</span></a> <a class="idref" href="gnl_alg.prelim.html#sx:35"><span class="id" title="variable">sx</span></a>}<br/>
&nbsp;&nbsp;{<a id="Y:39" class="idref" href="#Y:39"><span class="id" title="binder">Y</span></a>} (<a id="ry:40" class="idref" href="#ry:40"><span class="id" title="binder">ry</span></a> <a id="sy:41" class="idref" href="#sy:41"><span class="id" title="binder">sy</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:39"><span class="id" title="variable">Y</span></a>) {<a id="eqy:42" class="idref" href="#eqy:42"><span class="id" title="binder">eqy</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:40"><span class="id" title="variable">ry</span></a>} {<a id="poy:43" class="idref" href="#poy:43"><span class="id" title="binder">poy</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:41"><span class="id" title="variable">sy</span></a>} {<a id="POy:44" class="idref" href="#POy:44"><span class="id" title="binder">POy</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:40"><span class="id" title="variable">ry</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:41"><span class="id" title="variable">sy</span></a>}<br/>
&nbsp;&nbsp;{<a id="Z:45" class="idref" href="#Z:45"><span class="id" title="binder">Z</span></a>} (<a id="rz:46" class="idref" href="#rz:46"><span class="id" title="binder">rz</span></a> <a id="sz:47" class="idref" href="#sz:47"><span class="id" title="binder">sz</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#Z:45"><span class="id" title="variable">Z</span></a>) {<a id="eqz:48" class="idref" href="#eqz:48"><span class="id" title="binder">eqz</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#rz:46"><span class="id" title="variable">rz</span></a>} {<a id="poz:49" class="idref" href="#poz:49"><span class="id" title="binder">poz</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#sz:47"><span class="id" title="variable">sz</span></a>} {<a id="POz:50" class="idref" href="#POz:50"><span class="id" title="binder">POz</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="gnl_alg.prelim.html#rz:46"><span class="id" title="variable">rz</span></a> <a class="idref" href="gnl_alg.prelim.html#sz:47"><span class="id" title="variable">sz</span></a>}<br/>
&nbsp;&nbsp;(<a id="f:51" class="idref" href="#f:51"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:33"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:39"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Z:45"><span class="id" title="variable">Z</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#sx:35"><span class="id" title="variable">sx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#sy:41"><span class="id" title="variable">sy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#sz:47"><span class="id" title="variable">sz</span></a>) <a class="idref" href="gnl_alg.prelim.html#f:51"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#rx:34"><span class="id" title="variable">rx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#ry:40"><span class="id" title="variable">ry</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#rz:46"><span class="id" title="variable">rz</span></a>) <a class="idref" href="gnl_alg.prelim.html#f:51"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab50"></a><h1 class="section">Decidable sets : types with decidable equality</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="dec" class="idref" href="#dec"><span class="id" title="section">dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="decidable_set" class="idref" href="#decidable_set"><span class="id" title="inductive, record"><span id="decidable_set" class="id">decidable_set</span></span></a> (<a id="A:52" class="idref" href="#A:52"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>) := <a id="eq_dec" class="idref" href="#eq_dec"><span class="id" title="constructor, projection"><span id="eq_dec" class="id">eq_dec</span></span></a> : <span class="id" title="keyword">∀</span> <a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a> <a id="b:55" class="idref" href="#b:55"><span class="id" title="binder">b</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:52"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="gnl_alg.prelim.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#b:55"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="gnl_alg.prelim.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="gnl_alg.prelim.html#b:55"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="302633d96ed2d246d3281a43b756c2b7" class="idref" href="#302633d96ed2d246d3281a43b756c2b7"><span class="id" title="notation">&quot;</span></a> =?= " := <a class="idref" href="gnl_alg.prelim.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_dec_eq" class="idref" href="#eq_dec_eq"><span class="id" title="lemma">eq_dec_eq</span></a> {<a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a>} {<a id="d:58" class="idref" href="#d:58"><span class="id" title="binder">d</span></a>: <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#A:57"><span class="id" title="variable">A</span></a>} {<a id="B:59" class="idref" href="#B:59"><span class="id" title="binder">B</span></a>} <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a> (<a id="p:61" class="idref" href="#p:61"><span class="id" title="binder">p</span></a> <a id="q:62" class="idref" href="#q:62"><span class="id" title="binder">q</span></a> : <a class="idref" href="gnl_alg.prelim.html#B:59"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="gnl_alg.prelim.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#302633d96ed2d246d3281a43b756c2b7"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.prelim.html#a:60"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.prelim.html#p:61"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.prelim.html#q:62"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#p:61"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_dec_neq" class="idref" href="#eq_dec_neq"><span class="id" title="lemma">eq_dec_neq</span></a> {<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a>} {<a id="d:64" class="idref" href="#d:64"><span class="id" title="binder">d</span></a>: <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#A:63"><span class="id" title="variable">A</span></a>} {<a id="B:65" class="idref" href="#B:65"><span class="id" title="binder">B</span></a>} <a id="a:66" class="idref" href="#a:66"><span class="id" title="binder">a</span></a> <a id="b:67" class="idref" href="#b:67"><span class="id" title="binder">b</span></a> (<a id="p:68" class="idref" href="#p:68"><span class="id" title="binder">p</span></a> <a id="q:69" class="idref" href="#q:69"><span class="id" title="binder">q</span></a> : <a class="idref" href="gnl_alg.prelim.html#B:65"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="gnl_alg.prelim.html#b:67"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="gnl_alg.prelim.html#a:66"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#302633d96ed2d246d3281a43b756c2b7"><span class="id" title="notation">=?=</span></a> <a class="idref" href="gnl_alg.prelim.html#b:67"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="gnl_alg.prelim.html#p:68"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.prelim.html#q:69"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#q:69"><span class="id" title="variable">q</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.prelim.html#dec"><span class="id" title="section">dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="55e56b0d6d02ee8a129a53a76b5aacdd" class="idref" href="#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">&quot;</span></a> =?= " := <a class="idref" href="gnl_alg.prelim.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
</div>

<div class="doc">
Both the natural numbers and the booleans are decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a id="nat_dec" class="idref" href="#nat_dec"><span class="id" title="instance">nat_dec</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="bool_dec" class="idref" href="#bool_dec"><span class="id" title="instance">bool_dec</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
The sum, product or option of decidable sets is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <a id="sum_dec" class="idref" href="#sum_dec"><span class="id" title="instance">sum_dec</span></a> {<a id="X:70" class="idref" href="#X:70"><span class="id" title="binder">X</span></a> <a id="Y:71" class="idref" href="#Y:71"><span class="id" title="binder">Y</span></a>} : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#X:70"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:71"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> (<a class="idref" href="gnl_alg.prelim.html#X:70"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="gnl_alg.prelim.html#Y:71"><span class="id" title="variable">Y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="prod_dec" class="idref" href="#prod_dec"><span class="id" title="instance">prod_dec</span></a> {<a id="X:72" class="idref" href="#X:72"><span class="id" title="binder">X</span></a> <a id="Y:73" class="idref" href="#Y:73"><span class="id" title="binder">Y</span></a>} : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#X:72"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:73"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> (<a class="idref" href="gnl_alg.prelim.html#X:72"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="gnl_alg.prelim.html#Y:73"><span class="id" title="variable">Y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="option_dec" class="idref" href="#option_dec"><span class="id" title="instance">option_dec</span></a> {<a id="X:74" class="idref" href="#X:74"><span class="id" title="binder">X</span></a>} : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#X:74"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="gnl_alg.prelim.html#X:74"><span class="id" title="variable">X</span></a>).<br/>

<br/>
</div>

<div class="doc">
The type with no element, is decidable. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a id="Zero" class="idref" href="#Zero"><span class="id" title="abbreviation">Zero</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Empty_set"><span class="id" title="inductive">Empty_set</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="dec_Zero" class="idref" href="#dec_Zero"><span class="id" title="instance">dec_Zero</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#Zero"><span class="id" title="abbreviation">Zero</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
The type with a single element, is decidable. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="One" class="idref" href="#One"><span class="id" title="abbreviation">One</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="e12903e473a7594799d8b55110640221" class="idref" href="#e12903e473a7594799d8b55110640221"><span class="id" title="notation">&quot;</span></a>•" := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="One_dec" class="idref" href="#One_dec"><span class="id" title="instance">One_dec</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#One"><span class="id" title="abbreviation">One</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a id="lab51"></a><h1 class="section">Decidable lists</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="dec_lists" class="idref" href="#dec_lists"><span class="id" title="section">dec_lists</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="dec_lists.A" class="idref" href="#dec_lists.A"><span class="id" title="variable">A</span></a>:<span class="id" title="keyword">Set</span>}{<a id="dec_lists.decA" class="idref" href="#dec_lists.decA"><span class="id" title="variable">decA</span></a>:<a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#A:75"><span class="id" title="variable">A</span></a>}.<br/>

<br/>
</div>

<div class="doc">
When <span class="inlinecode"><span class="id" title="var">A</span></span> is decidable, <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> also is. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="list_dec" class="idref" href="#list_dec"><span class="id" title="instance">list_dec</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#dec_lists.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
We can also decide memebership. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="inb" class="idref" href="#inb"><span class="id" title="definition">inb</span></a> (<a id="a:77" class="idref" href="#a:77"><span class="id" title="binder">a</span></a>: <a class="idref" href="gnl_alg.prelim.html#dec_lists.A"><span class="id" title="variable">A</span></a>) <a id="l:78" class="idref" href="#l:78"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#l:78"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="gnl_alg.prelim.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="gnl_alg.prelim.html#inb:79"><span class="id" title="definition">inb</span></a> <a class="idref" href="gnl_alg.prelim.html#a:77"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:78"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="inb_In" class="idref" href="#inb_In"><span class="id" title="lemma">inb_In</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> <a id="l:82" class="idref" href="#l:82"><span class="id" title="binder">l</span></a> : <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:82"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.prelim.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="gnl_alg.prelim.html#a:81"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:82"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.prelim.html#dec_lists"><span class="id" title="section">dec_lists</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab52"></a><h1 class="section">Comparing lists up-to commutativity and idempotency</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="eq_list" class="idref" href="#eq_list"><span class="id" title="section">eq_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="eq_list.A" class="idref" href="#eq_list.A"><span class="id" title="variable">A</span></a>:<span class="id" title="keyword">Set</span>}.<br/>

<br/>
</div>

<div class="doc">
In this section we consider two lists equivalent if their membership  predicates coincide. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eq_list" class="idref" href="#eq_list"><span class="id" title="definition">eq_list</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:84" class="idref" href="#l:84"><span class="id" title="binder">l</span></a> <a id="m:85" class="idref" href="#m:85"><span class="id" title="binder">m</span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a>, <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:84"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#m:85"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="35479471a8a7ed5141dc8c08ade36b77" class="idref" href="#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">&quot;</span></a>≈set" := <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 61).<br/>

<br/>
</div>

<div class="doc">
This is indeed an equivalence relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="eq_list_equiv" class="idref" href="#eq_list_equiv"><span class="id" title="instance">eq_list_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
The concatenation operation preserves this relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="app_proper_eq_list" class="idref" href="#app_proper_eq_list"><span class="id" title="instance">app_proper_eq_list</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
It is a commutative and idempotent operator with respect to this relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_comm" class="idref" href="#app_comm"><span class="id" title="lemma">app_comm</span></a> <a id="l1:87" class="idref" href="#l1:87"><span class="id" title="binder">l1</span></a> <a id="l2:88" class="idref" href="#l2:88"><span class="id" title="binder">l2</span></a> : <a class="idref" href="gnl_alg.prelim.html#l1:87"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:88"><span class="id" title="variable">l2</span></a> <a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">set</span></a> <a class="idref" href="gnl_alg.prelim.html#l2:88"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l1:87"><span class="id" title="variable">l1</span></a>.<br/>
 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_idem" class="idref" href="#app_idem"><span class="id" title="lemma">app_idem</span></a> <a id="l:89" class="idref" href="#l:89"><span class="id" title="binder">l</span></a> : <a class="idref" href="gnl_alg.prelim.html#l:89"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l:89"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">set</span></a> <a class="idref" href="gnl_alg.prelim.html#l:89"><span class="id" title="variable">l</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
If the base set is decidable, then the equivalence is decidable. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="eq_list.decA" class="idref" href="#eq_list.decA"><span class="id" title="variable">decA</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list.A"><span class="id" title="variable">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_eq_list" class="idref" href="#dec_eq_list"><span class="id" title="lemma">dec_eq_list</span></a> <a id="l:91" class="idref" href="#l:91"><span class="id" title="binder">l</span></a> <a id="m:92" class="idref" href="#m:92"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="gnl_alg.prelim.html#l:91"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">set</span></a> <a class="idref" href="gnl_alg.prelim.html#m:92"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="gnl_alg.prelim.html#l:91"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#35479471a8a7ed5141dc8c08ade36b77"><span class="id" title="notation">set</span></a> <a class="idref" href="gnl_alg.prelim.html#m:92"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="section">eq_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="f059d2ce0a94d408fd41b299215f9bc8" class="idref" href="#f059d2ce0a94d408fd41b299215f9bc8"><span class="id" title="notation">&quot;</span></a>≈set" := <a class="idref" href="gnl_alg.prelim.html#eq_list"><span class="id" title="definition">eq_list</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 61).<br/>

<br/>
</div>

<div class="doc">
<a id="lab53"></a><h1 class="section">Comparing lists up-to commutativity</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="eq_list_comm" class="idref" href="#eq_list_comm"><span class="id" title="section">eq_list_comm</span></a>.<br/>
</div>

<div class="doc">
Requires the base type to be decidable. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="eq_list_comm.A" class="idref" href="#eq_list_comm.A"><span class="id" title="variable">A</span></a>:<span class="id" title="keyword">Set</span>}{<a id="eq_list_comm.decA" class="idref" href="#eq_list_comm.decA"><span class="id" title="variable">decA</span></a>:<a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#A:95"><span class="id" title="variable">A</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab54"></a><h2 class="section">Main definitions and results.</h2>

<div class="paragraph"> </div>

 Two lists are deemed equivalent if for any base element,  they have the same number of occurences. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eq_list_comm" class="idref" href="#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> (<a id="l:97" class="idref" href="#l:97"><span class="id" title="binder">l</span></a> <a id="m:98" class="idref" href="#m:98"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a>, <span class="id" title="definition">count_occ</span> <a class="idref" href="gnl_alg.prelim.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="gnl_alg.prelim.html#l:97"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">count_occ</span> <a class="idref" href="gnl_alg.prelim.html#eq_dec"><span class="id" title="definition">eq_dec</span></a> <a class="idref" href="gnl_alg.prelim.html#m:98"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.prelim.html#a:99"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="afeb9780e8fb0897031a896aecf91abd" class="idref" href="#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">&quot;</span></a>≈mset" := <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 61).<br/>

<br/>
</div>

<div class="doc">
This constitutes an equivalence relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="equivalence_eq_list_comm" class="idref" href="#equivalence_eq_list_comm"><span class="id" title="instance">equivalence_eq_list_comm</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a>.<br/>

<br/>
</div>

<div class="doc">
Concatenation is a morphism with respect to this relation :  that is concatenating equivalent lists yields equivalent lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="app_proper" class="idref" href="#app_proper"><span class="id" title="instance">app_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm.A"><span class="id" title="variable">A</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
Appending an element in front of equivalent lists also yields equivalent lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cons_proper" class="idref" href="#cons_proper"><span class="id" title="instance">cons_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm.A"><span class="id" title="variable">A</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
As expected, concatenation is commutative up-to this relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_list_comm_app_comm" class="idref" href="#eq_list_comm_app_comm"><span class="id" title="lemma">eq_list_comm_app_comm</span></a> <a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> <a id="m:101" class="idref" href="#m:101"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.prelim.html#l:100"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m:101"><span class="id" title="variable">m</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:101"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l:100"><span class="id" title="variable">l</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
For singleton lists, <span class="inlinecode"><span class="id" title="var">eq_list_comm</span></span> is equality. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_list_comm_sngl" class="idref" href="#eq_list_comm_sngl"><span class="id" title="lemma">eq_list_comm_sngl</span></a> <a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> <a id="a:103" class="idref" href="#a:103"><span class="id" title="binder">a</span></a> : <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.prelim.html#a:103"><span class="id" title="variable">a</span></a><span class="id" title="notation">]</span> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="gnl_alg.prelim.html#a:103"><span class="id" title="variable">a</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
</div>

<div class="doc">
The same holds for the empty list. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_list_comm_nil" class="idref" href="#eq_list_comm_nil"><span class="id" title="lemma">eq_list_comm_nil</span></a> <a id="m:104" class="idref" href="#m:104"><span class="id" title="binder">m</span></a> : <span class="id" title="notation">[]</span> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:104"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#m:104"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>

<br/>
</div>

<div class="doc">
The following decomposition lemma will prove very handy : if a list is equivalent  to a list <span class="inlinecode"><span class="id" title="var">a</span>::<span class="id" title="var">l</span></span>, then a sub list equivalent to <span class="inlinecode"><span class="id" title="var">l</span></span> can be extracted from it. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eq_list_comm_cons" class="idref" href="#eq_list_comm_cons"><span class="id" title="lemma">eq_list_comm_cons</span></a> <a id="a:105" class="idref" href="#a:105"><span class="id" title="binder">a</span></a> <a id="l:106" class="idref" href="#l:106"><span class="id" title="binder">l</span></a> <a id="m:107" class="idref" href="#m:107"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#a:105"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="gnl_alg.prelim.html#l:106"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:107"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m1:108" class="idref" href="#m1:108"><span class="id" title="binder">m1</span></a> <a id="m2:109" class="idref" href="#m2:109"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#m:107"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:108"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.prelim.html#a:105"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="gnl_alg.prelim.html#m2:109"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#l:106"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:108"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m2:109"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">forallb</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span> and <span class="inlinecode"><span class="id" title="var">length</span></span> are impervious to/compatible with equivalence. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="eq_list_comm_forallb" class="idref" href="#eq_list_comm_forallb"><span class="id" title="instance">eq_list_comm_forallb</span></a> <a id="f:110" class="idref" href="#f:110"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="definition">forallb</span> <a class="idref" href="gnl_alg.prelim.html#f:110"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="eq_list_comm_length" class="idref" href="#eq_list_comm_length"><span class="id" title="instance">eq_list_comm_length</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab55"></a><h2 class="section">Deciding equivalence</h2>

<div class="paragraph"> </div>

 We now set out to design a decision procedure for equivalence up-to commutativity. 
<div class="paragraph"> </div>

 First, we define the following procedure to simultaneously check membership and,  if possible, remove the first occurence of an element. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="rm_first" class="idref" href="#rm_first"><span class="id" title="definition">rm_first</span></a> <a id="a:111" class="idref" href="#a:111"><span class="id" title="binder">a</span></a> <a id="l:112" class="idref" href="#l:112"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#l:112"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒ <span class="id" title="keyword">if</span> (<a class="idref" href="gnl_alg.prelim.html#a:111"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#55e56b0d6d02ee8a129a53a76b5aacdd"><span class="id" title="notation">=?=</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="gnl_alg.prelim.html#l:112"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#rm_first:113"><span class="id" title="definition">rm_first</span></a> <a class="idref" href="gnl_alg.prelim.html#a:111"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:112"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
When an element is absent from the list, <span class="inlinecode"><span class="id" title="var">rm_first</span></span> returns <span class="inlinecode"><span class="id" title="var">None</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rm_first_None" class="idref" href="#rm_first_None"><span class="id" title="lemma">rm_first_None</span></a> <a id="a:115" class="idref" href="#a:115"><span class="id" title="binder">a</span></a> <a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:115"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#rm_first"><span class="id" title="definition">rm_first</span></a> <a class="idref" href="gnl_alg.prelim.html#a:115"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:116"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
Otherwise, it returns the list with the first occurence of the element removed. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rm_first_Some" class="idref" href="#rm_first_Some"><span class="id" title="lemma">rm_first_Some</span></a> <a id="a:117" class="idref" href="#a:117"><span class="id" title="binder">a</span></a> <a id="l:118" class="idref" href="#l:118"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:117"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:118"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l1:119" class="idref" href="#l1:119"><span class="id" title="binder">l1</span></a> <a id="l2:120" class="idref" href="#l2:120"><span class="id" title="binder">l2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#l:118"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:119"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="gnl_alg.prelim.html#a:117"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="gnl_alg.prelim.html#l2:120"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="definition">In</span> <a class="idref" href="gnl_alg.prelim.html#a:117"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:119"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#rm_first"><span class="id" title="definition">rm_first</span></a> <a class="idref" href="gnl_alg.prelim.html#a:117"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#l:118"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="gnl_alg.prelim.html#l1:119"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:120"><span class="id" title="variable">l2</span></a>).<br/>

<br/>
</div>

<div class="doc">
We can now define the procedure to check whether two lists are equivalent. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="test_eq_comm" class="idref" href="#test_eq_comm"><span class="id" title="definition">test_eq_comm</span></a> <a id="l:121" class="idref" href="#l:121"><span class="id" title="binder">l</span></a> <a id="m:122" class="idref" href="#m:122"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#l:121"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#m:122"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#rm_first"><span class="id" title="definition">rm_first</span></a> <span class="id" title="var">a</span> <a class="idref" href="gnl_alg.prelim.html#m:122"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m'</span> ⇒ <a class="idref" href="gnl_alg.prelim.html#test_eq_comm:123"><span class="id" title="definition">test_eq_comm</span></a> <a class="idref" href="gnl_alg.prelim.html#l:121"><span class="id" title="variable">l</span></a> <span class="id" title="var">m'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This procedure is correct. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="test_eq_comm_spec" class="idref" href="#test_eq_comm_spec"><span class="id" title="lemma">test_eq_comm_spec</span></a> <a id="l:126" class="idref" href="#l:126"><span class="id" title="binder">l</span></a> <a id="m:127" class="idref" href="#m:127"><span class="id" title="binder">m</span></a> : <a class="idref" href="gnl_alg.prelim.html#test_eq_comm"><span class="id" title="definition">test_eq_comm</span></a> <a class="idref" href="gnl_alg.prelim.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:127"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="gnl_alg.prelim.html#l:126"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:127"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
Thus equivalence of lists is decidable. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_eq_list_comm" class="idref" href="#dec_eq_list_comm"><span class="id" title="lemma">dec_eq_list_comm</span></a> <a id="l:128" class="idref" href="#l:128"><span class="id" title="binder">l</span></a> <a id="m:129" class="idref" href="#m:129"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="gnl_alg.prelim.html#l:128"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:129"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="gnl_alg.prelim.html#l:128"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#afeb9780e8fb0897031a896aecf91abd"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:129"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="section">eq_list_comm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="0f1e2083e076b866d2715c9f29488a83" class="idref" href="#0f1e2083e076b866d2715c9f29488a83"><span class="id" title="notation">&quot;</span></a>≈mset" := <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 61).<br/>

<br/>
</div>

<div class="doc">
<a id="lab56"></a><h1 class="section">Lifting relations to lists</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="list_lift" class="idref" href="#list_lift"><span class="id" title="section">list_lift</span></a>.<br/>

<br/>
</div>

<div class="doc">
We define two ways of extending a relation <span class="inlinecode"><span class="id" title="var">r</span>:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>  to a relation <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>. 
<div class="paragraph"> </div>

 The fist way is the straightforward element-wise lifting:  two lists <span class="inlinecode"><span class="id" title="var">l</span>,<span class="id" title="var">m</span></span> of the same lenght are related if for every index,  <span class="inlinecode"><span class="id" title="var">l_i</span></span> and <span class="inlinecode"><span class="id" title="var">m_i</span></span> are related. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="list_lift" class="idref" href="#list_lift"><span class="id" title="definition">list_lift</span></a> {<a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a> <a id="B:131" class="idref" href="#B:131"><span class="id" title="binder">B</span></a>} (<a id="r:132" class="idref" href="#r:132"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:130"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:131"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l:133" class="idref" href="#l:133"><span class="id" title="binder">l</span></a> <a id="m:134" class="idref" href="#m:134"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="gnl_alg.prelim.html#l:133"><span class="id" title="variable">l</span></a>,<a class="idref" href="gnl_alg.prelim.html#m:134"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span>,<span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span>,<span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">m</span> ⇒ <a class="idref" href="gnl_alg.prelim.html#r:132"><span class="id" title="variable">r</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift:135"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:132"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:133"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:134"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The second way allows the two lists to be related similarly as before, but adds the  possibility to re-shuffle the elements. In other words, it ``closes'' the relation by  list commutativity. Note that this require the type <span class="inlinecode"><span class="id" title="var">B</span></span> to be a decidable set, in  order to use our previously defined notion of equivalence of lists up-to commutativity. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="multiset_lift" class="idref" href="#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> {<a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> <a id="B:139" class="idref" href="#B:139"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Set</span>} {<a id="decB:140" class="idref" href="#decB:140"><span class="id" title="binder">decB</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#B:139"><span class="id" title="variable">B</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="gnl_alg.prelim.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:139"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="gnl_alg.prelim.html#B:139"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="r:141" class="idref" href="#r:141"><span class="id" title="binder">r</span></a> <a id="l:142" class="idref" href="#l:142"><span class="id" title="binder">l</span></a> <a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="l':144" class="idref" href="#l':144"><span class="id" title="binder">l'</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:141"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:142"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#l':144"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#l':144"><span class="id" title="variable">l'</span></a> <a class="idref" href="gnl_alg.prelim.html#0f1e2083e076b866d2715c9f29488a83"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#0f1e2083e076b866d2715c9f29488a83"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#m:143"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab57"></a><h2 class="section">Properties of the plain lifting</h2>

<div class="paragraph"> </div>

 Lifting an equivalence relation yields another equivalence relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="list_lift_eq" class="idref" href="#list_lift_eq"><span class="id" title="instance">list_lift_eq</span></a> {<a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a>} {<a id="r:146" class="idref" href="#r:146"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#A:145"><span class="id" title="variable">A</span></a>} {<a id="e:147" class="idref" href="#e:147"><span class="id" title="binder">e</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#r:146"><span class="id" title="variable">r</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:146"><span class="id" title="variable">r</span></a>).<br/>

<br/>
</div>

<div class="doc">
The following lemmas lift some properties of relations to properties  of their lifted versions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="list_lift_proper" class="idref" href="#list_lift_proper"><span class="id" title="instance">list_lift_proper</span></a> {<a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a> <a id="B:149" class="idref" href="#B:149"><span class="id" title="binder">B</span></a>} (<a id="r:150" class="idref" href="#r:150"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#A:148"><span class="id" title="variable">A</span></a>) (<a id="s:151" class="idref" href="#s:151"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#B:149"><span class="id" title="variable">B</span></a>) (<a id="R:152" class="idref" href="#R:152"><span class="id" title="binder">R</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:149"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#r:150"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="gnl_alg.prelim.html#R:152"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:150"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#s:151"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#R:152"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="list_lift_map_proper" class="idref" href="#list_lift_map_proper"><span class="id" title="instance">list_lift_map_proper</span></a> {<a id="A:153" class="idref" href="#A:153"><span class="id" title="binder">A</span></a> <a id="B:154" class="idref" href="#B:154"><span class="id" title="binder">B</span></a>} (<a id="r:155" class="idref" href="#r:155"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#A:153"><span class="id" title="variable">A</span></a>) (<a id="s:156" class="idref" href="#s:156"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#B:154"><span class="id" title="variable">B</span></a>) (<a id="f:157" class="idref" href="#f:157"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:153"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:154"><span class="id" title="variable">B</span></a> ) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#r:155"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#s:156"><span class="id" title="variable">s</span></a>) <a class="idref" href="gnl_alg.prelim.html#f:157"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:155"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#s:156"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="gnl_alg.prelim.html#f:157"><span class="id" title="variable">f</span></a>).<br/>

<br/>

<br/>
</div>

<div class="doc">
If a list is lift-related to a concatenation, it can be decomposed into a  concatenation such that the components are lift-related to each other. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_app" class="idref" href="#list_lift_app"><span class="id" title="lemma">list_lift_app</span></a> {<a id="A:158" class="idref" href="#A:158"><span class="id" title="binder">A</span></a> <a id="B:159" class="idref" href="#B:159"><span class="id" title="binder">B</span></a>} (<a id="r:160" class="idref" href="#r:160"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:158"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:159"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l:161" class="idref" href="#l:161"><span class="id" title="binder">l</span></a> <a id="l1:162" class="idref" href="#l1:162"><span class="id" title="binder">l1</span></a> <a id="l2:163" class="idref" href="#l2:163"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:160"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:161"><span class="id" title="variable">l</span></a> (<a class="idref" href="gnl_alg.prelim.html#l1:162"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:163"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m1:164" class="idref" href="#m1:164"><span class="id" title="binder">m1</span></a> <a id="m2:165" class="idref" href="#m2:165"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#l:161"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:164"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m2:165"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:160"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:164"><span class="id" title="variable">m1</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:162"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:160"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#m2:165"><span class="id" title="variable">m2</span></a> <a class="idref" href="gnl_alg.prelim.html#l2:163"><span class="id" title="variable">l2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_app_l" class="idref" href="#list_lift_app_l"><span class="id" title="lemma">list_lift_app_l</span></a> {<a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a> <a id="B:167" class="idref" href="#B:167"><span class="id" title="binder">B</span></a>} (<a id="r:168" class="idref" href="#r:168"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:166"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:167"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a> <a id="l1:170" class="idref" href="#l1:170"><span class="id" title="binder">l1</span></a> <a id="l2:171" class="idref" href="#l2:171"><span class="id" title="binder">l2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:168"><span class="id" title="variable">r</span></a> (<a class="idref" href="gnl_alg.prelim.html#l1:170"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:171"><span class="id" title="variable">l2</span></a>) <a class="idref" href="gnl_alg.prelim.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m1:172" class="idref" href="#m1:172"><span class="id" title="binder">m1</span></a> <a id="m2:173" class="idref" href="#m2:173"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:172"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m2:173"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:168"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:170"><span class="id" title="variable">l1</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:172"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:168"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l2:171"><span class="id" title="variable">l2</span></a> <a class="idref" href="gnl_alg.prelim.html#m2:173"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
</div>

<div class="doc">
Conversely, concatenating related lists yields related lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_list_lift" class="idref" href="#app_list_lift"><span class="id" title="lemma">app_list_lift</span></a> {<a id="A:174" class="idref" href="#A:174"><span class="id" title="binder">A</span></a> <a id="B:175" class="idref" href="#B:175"><span class="id" title="binder">B</span></a>} (<a id="r:176" class="idref" href="#r:176"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:174"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:175"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l1:177" class="idref" href="#l1:177"><span class="id" title="binder">l1</span></a> <a id="l2:178" class="idref" href="#l2:178"><span class="id" title="binder">l2</span></a> <a id="m1:179" class="idref" href="#m1:179"><span class="id" title="binder">m1</span></a> <a id="m2:180" class="idref" href="#m2:180"><span class="id" title="binder">m2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:176"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:177"><span class="id" title="variable">l1</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:179"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:176"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l2:178"><span class="id" title="variable">l2</span></a> <a class="idref" href="gnl_alg.prelim.html#m2:180"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:176"><span class="id" title="variable">r</span></a> (<a class="idref" href="gnl_alg.prelim.html#l1:177"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:178"><span class="id" title="variable">l2</span></a>) (<a class="idref" href="gnl_alg.prelim.html#m1:179"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m2:180"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="app_proper_list_lift" class="idref" href="#app_proper_list_lift"><span class="id" title="instance">app_proper_list_lift</span></a> {<a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a>} <a id="r:182" class="idref" href="#r:182"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:182"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:182"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:182"><span class="id" title="variable">r</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="gnl_alg.prelim.html#A:181"><span class="id" title="variable">A</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
For a relation <span class="inlinecode"><span class="id" title="var">r</span></span>, appending <span class="inlinecode"><span class="id" title="var">r</span></span>-related elements to lift-related lists  yields lift-related lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cons_proper_list_lift" class="idref" href="#cons_proper_list_lift"><span class="id" title="instance">cons_proper_list_lift</span></a> {<a id="A:183" class="idref" href="#A:183"><span class="id" title="binder">A</span></a>} <a id="r:184" class="idref" href="#r:184"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#r:184"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:184"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:184"><span class="id" title="variable">r</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="gnl_alg.prelim.html#A:183"><span class="id" title="variable">A</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
If two lists are lift-related, they have the same length. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_length" class="idref" href="#list_lift_length"><span class="id" title="lemma">list_lift_length</span></a> {<a id="X:185" class="idref" href="#X:185"><span class="id" title="binder">X</span></a> <a id="Y:186" class="idref" href="#Y:186"><span class="id" title="binder">Y</span></a>} (<a id="r:187" class="idref" href="#r:187"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:185"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:186"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l:188" class="idref" href="#l:188"><span class="id" title="binder">l</span></a> <a id="m:189" class="idref" href="#m:189"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:187"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:188"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:189"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="gnl_alg.prelim.html#l:188"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="gnl_alg.prelim.html#m:189"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
If a relation can be written as a composite of two relations, that the  same decomposition can be done on the lifted relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_composition" class="idref" href="#list_lift_composition"><span class="id" title="lemma">list_lift_composition</span></a> {<a id="A:190" class="idref" href="#A:190"><span class="id" title="binder">A</span></a> <a id="B:191" class="idref" href="#B:191"><span class="id" title="binder">B</span></a> <a id="C:192" class="idref" href="#C:192"><span class="id" title="binder">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="r:193" class="idref" href="#r:193"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#C:192"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:194" class="idref" href="#s:194"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:190"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:191"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:195" class="idref" href="#t:195"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.prelim.html#B:191"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#C:192"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:196" class="idref" href="#a:196"><span class="id" title="binder">a</span></a> <a id="c:197" class="idref" href="#c:197"><span class="id" title="binder">c</span></a>, <a class="idref" href="gnl_alg.prelim.html#r:193"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#a:196"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#c:197"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="b:198" class="idref" href="#b:198"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#s:194"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.prelim.html#a:196"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#b:198"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#t:195"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.prelim.html#b:198"><span class="id" title="variable">b</span></a> <a class="idref" href="gnl_alg.prelim.html#c:197"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:199" class="idref" href="#l:199"><span class="id" title="binder">l</span></a> <a id="m:200" class="idref" href="#m:200"><span class="id" title="binder">m</span></a>, <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:193"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:200"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:201" class="idref" href="#k:201"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#s:194"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.prelim.html#l:199"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#k:201"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#t:195"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.prelim.html#k:201"><span class="id" title="variable">k</span></a> <a class="idref" href="gnl_alg.prelim.html#m:200"><span class="id" title="variable">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="list_lift_composition_inv" class="idref" href="#list_lift_composition_inv"><span class="id" title="lemma">list_lift_composition_inv</span></a> {<a id="A:202" class="idref" href="#A:202"><span class="id" title="binder">A</span></a> <a id="B:203" class="idref" href="#B:203"><span class="id" title="binder">B</span></a> <a id="C:204" class="idref" href="#C:204"><span class="id" title="binder">C</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="r:205" class="idref" href="#r:205"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#C:204"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:206" class="idref" href="#s:206"><span class="id" title="binder">s</span></a> : <a class="idref" href="gnl_alg.prelim.html#A:202"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#B:203"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:207" class="idref" href="#t:207"><span class="id" title="binder">t</span></a> : <a class="idref" href="gnl_alg.prelim.html#B:203"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#C:204"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="a:208" class="idref" href="#a:208"><span class="id" title="binder">a</span></a> <a id="c:209" class="idref" href="#c:209"><span class="id" title="binder">c</span></a> <a id="b:210" class="idref" href="#b:210"><span class="id" title="binder">b</span></a>, <a class="idref" href="gnl_alg.prelim.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.prelim.html#a:208"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#b:210"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.prelim.html#b:210"><span class="id" title="variable">b</span></a> <a class="idref" href="gnl_alg.prelim.html#c:209"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#a:208"><span class="id" title="variable">a</span></a> <a class="idref" href="gnl_alg.prelim.html#c:209"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:211" class="idref" href="#l:211"><span class="id" title="binder">l</span></a> <a id="m:212" class="idref" href="#m:212"><span class="id" title="binder">m</span></a> <a id="k:213" class="idref" href="#k:213"><span class="id" title="binder">k</span></a>, <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#s:206"><span class="id" title="variable">s</span></a> <a class="idref" href="gnl_alg.prelim.html#l:211"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#k:213"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="gnl_alg.prelim.html#k:213"><span class="id" title="variable">k</span></a> <a class="idref" href="gnl_alg.prelim.html#m:212"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:211"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:212"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab58"></a><h2 class="section">Properties of the multiset lifting</h2>

<div class="paragraph"> </div>

 We pose a decidable set <span class="inlinecode"><span class="id" title="var">A</span></span> for the remainder of the section. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="list_lift.A" class="idref" href="#list_lift.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Set</span>}{<a id="list_lift.decA" class="idref" href="#list_lift.decA"><span class="id" title="variable">decA</span></a>:<a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#A:214"><span class="id" title="variable">A</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Lifting a symmetric relation yields a symmetric lifted relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="multiset_lift_sym" class="idref" href="#multiset_lift_sym"><span class="id" title="lemma">multiset_lift_sym</span></a> {<a id="r:216" class="idref" href="#r:216"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift.A"><span class="id" title="variable">A</span></a>} {<a id="s:217" class="idref" href="#s:217"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#r:216"><span class="id" title="variable">r</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:216"><span class="id" title="variable">r</span></a>).<br/>

<br/>
</div>

<div class="doc">
Lifting an equivalence relation yields an equivalence relation. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="multiset_lift_eq" class="idref" href="#multiset_lift_eq"><span class="id" title="instance">multiset_lift_eq</span></a> {<a id="r:218" class="idref" href="#r:218"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift.A"><span class="id" title="variable">A</span></a>} {<a id="e:219" class="idref" href="#e:219"><span class="id" title="binder">e</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="gnl_alg.prelim.html#r:218"><span class="id" title="variable">r</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:218"><span class="id" title="variable">r</span></a>).<br/>

<br/>
</div>

<div class="doc">
Concatenating related lists yields related lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_multiset_lift" class="idref" href="#app_multiset_lift"><span class="id" title="lemma">app_multiset_lift</span></a> {<a id="X:220" class="idref" href="#X:220"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Set</span>} (<a id="r:221" class="idref" href="#r:221"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:220"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="l1:222" class="idref" href="#l1:222"><span class="id" title="binder">l1</span></a> <a id="l2:223" class="idref" href="#l2:223"><span class="id" title="binder">l2</span></a> <a id="m1:224" class="idref" href="#m1:224"><span class="id" title="binder">m1</span></a> <a id="m2:225" class="idref" href="#m2:225"><span class="id" title="binder">m2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:221"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l1:222"><span class="id" title="variable">l1</span></a> <a class="idref" href="gnl_alg.prelim.html#m1:224"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:221"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l2:223"><span class="id" title="variable">l2</span></a> <a class="idref" href="gnl_alg.prelim.html#m2:225"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:221"><span class="id" title="variable">r</span></a> (<a class="idref" href="gnl_alg.prelim.html#l1:222"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#l2:223"><span class="id" title="variable">l2</span></a>) (<a class="idref" href="gnl_alg.prelim.html#m1:224"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="gnl_alg.prelim.html#m2:225"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="app_proper_multiset_lift" class="idref" href="#app_proper_multiset_lift"><span class="id" title="instance">app_proper_multiset_lift</span></a> <a id="r:226" class="idref" href="#r:226"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:226"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:226"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:226"><span class="id" title="variable">r</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
For a relation <span class="inlinecode"><span class="id" title="var">r</span></span>, appending <span class="inlinecode"><span class="id" title="var">r</span></span>-related elements to lift-related lists  yields lift-related lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="cons_proper_multiset_lift" class="idref" href="#cons_proper_multiset_lift"><span class="id" title="instance">cons_proper_multiset_lift</span></a> <a id="r:227" class="idref" href="#r:227"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#r:227"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:227"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:227"><span class="id" title="variable">r</span></a>) (@<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
Applying the same function to the elements of equivalent lists yields equivalent lists. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="eq_list_comm_map" class="idref" href="#eq_list_comm_map"><span class="id" title="instance">eq_list_comm_map</span></a> {<a id="X:228" class="idref" href="#X:228"><span class="id" title="binder">X</span></a> <a id="Y:229" class="idref" href="#Y:229"><span class="id" title="binder">Y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="decX:230" class="idref" href="#decX:230"><span class="id" title="binder">decX</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#X:228"><span class="id" title="variable">X</span></a>} {<a id="decY:231" class="idref" href="#decY:231"><span class="id" title="binder">decY</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:229"><span class="id" title="variable">Y</span></a>} (<a id="f:232" class="idref" href="#f:232"><span class="id" title="binder">f</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:228"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:229"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="gnl_alg.prelim.html#eq_list_comm"><span class="id" title="definition">eq_list_comm</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Lists.ListDef.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="gnl_alg.prelim.html#f:232"><span class="id" title="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
It will sometimes be useful to decompose the lifted relation as follows. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="multiset_lift_inv" class="idref" href="#multiset_lift_inv"><span class="id" title="lemma">multiset_lift_inv</span></a> {<a id="X:233" class="idref" href="#X:233"><span class="id" title="binder">X</span></a> <a id="Y:234" class="idref" href="#Y:234"><span class="id" title="binder">Y</span></a>} {<a id="decX:235" class="idref" href="#decX:235"><span class="id" title="binder">decX</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#X:233"><span class="id" title="variable">X</span></a>} {<a id="decY:236" class="idref" href="#decY:236"><span class="id" title="binder">decY</span></a> : <a class="idref" href="gnl_alg.prelim.html#decidable_set"><span class="id" title="class">decidable_set</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:234"><span class="id" title="variable">Y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="r:237" class="idref" href="#r:237"><span class="id" title="binder">r</span></a> : <a class="idref" href="gnl_alg.prelim.html#X:233"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="gnl_alg.prelim.html#Y:234"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:238" class="idref" href="#l:238"><span class="id" title="binder">l</span></a> <a id="m:239" class="idref" href="#m:239"><span class="id" title="binder">m</span></a>, <a class="idref" href="gnl_alg.prelim.html#multiset_lift"><span class="id" title="definition">multiset_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:237"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#l:238"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#m:239"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:240" class="idref" href="#k:240"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="gnl_alg.prelim.html#l:238"><span class="id" title="variable">l</span></a> <a class="idref" href="gnl_alg.prelim.html#0f1e2083e076b866d2715c9f29488a83"><span class="id" title="notation">≈</span></a><a class="idref" href="gnl_alg.prelim.html#0f1e2083e076b866d2715c9f29488a83"><span class="id" title="notation">mset</span></a> <a class="idref" href="gnl_alg.prelim.html#k:240"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="definition">list_lift</span></a> <a class="idref" href="gnl_alg.prelim.html#r:237"><span class="id" title="variable">r</span></a> <a class="idref" href="gnl_alg.prelim.html#k:240"><span class="id" title="variable">k</span></a> <a class="idref" href="gnl_alg.prelim.html#m:239"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="gnl_alg.prelim.html#list_lift"><span class="id" title="section">list_lift</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>